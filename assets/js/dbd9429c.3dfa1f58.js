(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{113:function(e,n,t){"use strict";var o=t(0),r=t.n(o);var a=function(e,n){var t=null;return function(){var o=arguments,r=this;t||(t=setTimeout((function(){e.apply(r,[].concat(o)),t=null}),n))}};t(59);function l(e){window.scrollTo({top:0,behavior:"smooth"})}var i=a((function(e){var n=document.getElementsByClassName("back-to-top")[0];0===document.documentElement.scrollTop?n.style.visibility="hidden":n.style.visibility="visible"}),100);n.a=function(){return Object(o.useEffect)((function(){return window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}}),[]),r.a.createElement("div",{className:"back-to-top",onClick:l})}},97:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return b})),t.d(n,"default",(function(){return p}));var o=t(3),r=t(8),a=(t(0),t(108)),l=t(113),i={slug:"prettify-blog",title:"\u535a\u5ba2\u6837\u5f0f\u4f18\u5316"},c={unversionedId:"\u535a\u5ba2\u5efa\u8bbe/2021-04-09-\u535a\u5ba2\u6837\u5f0f\u4f18\u5316",id:"\u535a\u5ba2\u5efa\u8bbe/2021-04-09-\u535a\u5ba2\u6837\u5f0f\u4f18\u5316",isDocsHomePage:!1,title:"\u535a\u5ba2\u6837\u5f0f\u4f18\u5316",description:"\u6eda\u52a8\u6761\u4f18\u5316",source:"@site/docs/\u535a\u5ba2\u5efa\u8bbe/2021-04-09-\u535a\u5ba2\u6837\u5f0f\u4f18\u5316.mdx",slug:"/\u535a\u5ba2\u5efa\u8bbe/prettify-blog",permalink:"/docs/\u535a\u5ba2\u5efa\u8bbe/prettify-blog",version:"current",sidebar:"docs",previous:{title:"Awesome MDX",permalink:"/docs/\u535a\u5ba2\u5efa\u8bbe/awesome-mdx"}},b=[{value:"\u6eda\u52a8\u6761\u4f18\u5316",id:"\u6eda\u52a8\u6761\u4f18\u5316",children:[]},{value:"\u81ea\u5b9a\u4e49\u70b9\u51fb\u7f6e\u9876\u6309\u94ae",id:"\u81ea\u5b9a\u4e49\u70b9\u51fb\u7f6e\u9876\u6309\u94ae",children:[]},{value:"markdown \u56fe\u7247\u6837\u5f0f\u4f18\u5316",id:"markdown-\u56fe\u7247\u6837\u5f0f\u4f18\u5316",children:[]}],s={toc:b};function p(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)(l.a,{mdxType:"BackToTop"}),Object(a.b)("h2",{id:"\u6eda\u52a8\u6761\u4f18\u5316"},"\u6eda\u52a8\u6761\u4f18\u5316"),Object(a.b)("p",null,"\u9ed8\u8ba4\u7684\u6eda\u52a8\u6761\u6bd4\u8f83\u4e11(\u4e0a) \uff0c\u4f18\u5316\u540e\u7684\u6eda\u52a8\u6761\uff08\u4e0b feel better\uff09"),Object(a.b)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/image-20210407143001608.png",alt:"image-20210407143001608",style:{zoom:"67%"}}),Object(a.b)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/image-20210409222320401.png",alt:"image-20210409113758446",style:{zoom:"80%"}}),Object(a.b)("p",null,"\u5bf9\u57fa\u4e8e WebKit \u7684\u6d4f\u89c8\u5668\uff0c\u5982 Chrome\u3001Safari \u53ef\u4ee5\u4f7f\u7528\u4f2a\u7c7b\u9009\u62e9\u5668 ",Object(a.b)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/::-webkit-scrollbar"},"-webkit-scrollbar")," \u6765\u8fdb\u884c\u5143\u7d20\u9009\u62e9\u64cd\u4f5c\u6eda\u52a8\u6761\uff0c\u4e3b\u8981\u6709\uff1a"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"::-webkit-scrollbar")," \u2014 \u6574\u4e2a\u6eda\u52a8\u6761."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"::-webkit-scrollbar-button")," \u2014 \u6eda\u52a8\u6761\u4e0a\u7684\u6309\u94ae (\u4e0a\u4e0b\u7bad\u5934)."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"::-webkit-scrollbar-thumb")," \u2014 \u6eda\u52a8\u6761\u4e0a\u7684\u6eda\u52a8\u6ed1\u5757."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"::-webkit-scrollbar-track")," \u2014 \u6eda\u52a8\u6761\u8f68\u9053."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"::-webkit-scrollbar-track-piece")," \u2014 \u6eda\u52a8\u6761\u6ca1\u6709\u6ed1\u5757\u7684\u8f68\u9053\u90e8\u5206."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"::-webkit-scrollbar-corner")," \u2014 \u5f53\u540c\u65f6\u6709\u5782\u76f4\u6eda\u52a8\u6761\u548c\u6c34\u5e73\u6eda\u52a8\u6761\u65f6\u4ea4\u6c47\u7684\u90e8\u5206."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"::-webkit-resizer")," \u2014 \u67d0\u4e9b\u5143\u7d20\u7684corner\u90e8\u5206\u7684\u90e8\u5206\u6837\u5f0f(\u4f8b:textarea\u7684\u53ef\u62d6\u52a8\u6309\u94ae).")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-css"},"/* \u6eda\u52a8\u69fd */\nbody::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\nbody::-webkit-scrollbar-track {\n  border-radius: 3px;\n  background: rgba(0,0,0,0.06);\n  /* \u4f7f\u7528 inset \u6dfb\u52a0\u9634\u5f71\u8ba9\u6eda\u52a8\u6761\u53d8\u5f97\u66f4\u52a0\u7acb\u4f53 */\n  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.08);\n}\n/* \u6eda\u52a8\u6761\u6ed1\u5757 */\nbody::-webkit-scrollbar-thumb {\n  border-radius: 3px;\n  background: rgba(0,0,0,0.12);\n  -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.2);\n}\n")),Object(a.b)("h2",{id:"\u81ea\u5b9a\u4e49\u70b9\u51fb\u7f6e\u9876\u6309\u94ae"},"\u81ea\u5b9a\u4e49\u70b9\u51fb\u7f6e\u9876\u6309\u94ae"),Object(a.b)("p",null,"\u4e3a\u535a\u5ba2\u4e2d\u7684\u5185\u5bb9\u9875\u9762\u52a0\u4e0a\u7f6e\u9876\u6309\u94ae\uff0c\u5373\uff1a"),Object(a.b)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/backtotop1.gif",alt:"backtotop1",style:{zoom:"80%"}}),Object(a.b)("p",null,"b \u7ad9\u7684\u5c0f\u706b\u7bad\u6837\u5f0f\u6765\u81ea\u4e8e\uff1a",Object(a.b)("a",{parentName:"p",href:"https://coor.top/archives/21011814"},"https://coor.top/archives/21011814")),Object(a.b)("p",null,"\u5c0f\u706b\u7bad\u56fe\u6807\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u957f\u56fe\uff1a"),Object(a.b)("img",{src:"https://cdn.jsdelivr.net/gh/cetr/cdn@master/blog/img/space-to-top.png",style:{zoom:"80%"}}),Object(a.b)("p",null,"\u6211\u4eec\u9650\u5236\u5143\u7d20\u7684\u5bbd\u9ad8\uff0c\u8ba9\u6211\u4eec\u6bcf\u6b21\u53ea\u80fd\u5bb9\u7eb3\u4e00\u4e2a\u5c0f\u706b\u7bad\uff0c\u5f53\u9f20\u6807\u79fb\uff08hover\uff09\u5230\u8fd9\u4e2a\u5143\u7d20\u4e0a\u65f6\uff0c\u4f7f\u7528 ",Object(a.b)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation"},"animation")," \u5c5e\u6027\uff0c\u5728 0.4 \u79d2\u5185\u64ad\u653e\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u5173\u952e\u5e27 ",Object(a.b)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/@keyframes"},"@keyframes")," \uff0c\u901a\u8fc7\u80cc\u666f x \u8f74\u7684\u504f\u79fb\uff0c\u5c06\u8fd9\u4e2a\u957f\u56fe\u4e2d\u7684\u6bcf\u4e2a\u5c0f\u706b\u7bad\u8fdb\u884c\u4e00\u4e2a\u5feb\u901f\u7684\u5207\u6362\u6765\u8fbe\u5230\u52a8\u753b\u6548\u679c\u3002"),Object(a.b)("p",null,"CSS \u6837\u5f0f\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-css"},'.back-to-top {\n    background-image: url("https://cdn.jsdelivr.net/gh/cetr/cdn@master/blog/img/space-to-top.png");\n    width: 62px;\n    height: 88px;\n    position: fixed;\n    bottom: 80px;\n    right: 30px;\n}\n\n.back-to-top:hover {\n    cursor: pointer;\n    animation: to-top-fly .4s steps(1) infinite;\n}\n\n@keyframes to-top-fly {\n    0% {\n        background-position-x: -142.5px;\n    }\n\n    16.5% {\n        background-position-x: -284.5px;\n    }\n\n    33% {\n        background-position-x: -429.5px;\n    }\n\n    49.5% {\n        background-position-x: -570.5px;\n    }\n\n    66% {\n        background-position-x: -714.5px;\n    }\n\n    82.5% {\n        background-position-x: -856.5px;\n    }\n\n    100% {\n        background-position-x: 0px;\n    }\n}\n')),Object(a.b)("p",null,"\u800c\u70b9\u51fb\u7f6e\u9876\u529f\u80fd\u53ef\u4ee5\u901a\u8fc7 ",Object(a.b)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollTo"},"scrollTo")," \u6765\u5b8c\u6210\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},'function toTop(e) {\n    window.scrollTo({ \n        top: 0, \n        behavior: "smooth" \n    });\n}\n')),Object(a.b)("p",null,"\u8fd9\u4e2a\u529f\u80fd\u9700\u8981\u52a0\u5165\u5230\u6587\u7ae0\u9875\u9762\u4e2d\uff0c\u4e0d\u8fc7\u67e5\u9605 Docusaurus \u6587\u6863\uff0c\u6ca1\u6709\u627e\u5230\u4e00\u4e2a\u5408\u9002\u7684\u5d4c\u5165\u4f4d\u7f6e\uff0c\u56e0\u6b64\u4f7f\u7528\u4e86\u4e00\u4e2a\u6700\u7b28\u7684\u65b9\u6cd5\uff1a\u5c06\u8fd9\u4e2a\u7f6e\u9876\u6309\u94ae\u5c01\u88c5\u6210\u4e00\u4e2a\u7ec4\u4ef6\uff0c Docusaurus \u7684 markdown \u652f\u6301 jsx \u8bed\u6cd5\uff0c\u4e3a\u4e86\u5728\u6bcf\u4e2a\u9875\u9762\u4e2d\u90fd\u52a0\u5165\u8fd9\u4e2a\u6309\u94ae\uff0c\u90a3\u4e48\u5728\u6bcf\u4e2a\u9875\u9762\u4e2d\u90fd\u5f15\u7528\u8fd9\u4e2a\u7ec4\u4ef6\u5c31\u884c\u4e86\u3002\u914d\u5408\u6a21\u677f\u5e93 hygen\uff0c\u6dfb\u52a0\u9ed8\u8ba4\u7ec4\u4ef6\u5012\u662f\u4e0d\u9ebb\u70e6\uff0c\u5c31\u662f\u663e\u5f97\u5f88\u5197\u4f59..."),Object(a.b)("p",null,"\u7ec4\u4ef6\u57fa\u672c\u5c01\u88c5\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport { useEffect } from 'react';\nimport './index.css';\n\nfunction toTop(e) {\n    window.scrollTo({ \n        top: 0, \n        behavior: \"smooth\" \n    });\n}\n\nfunction BackToTop() {\n    // \u5f85\u7528\n    useEffect(() => {\n        console.log('init backtotop')\n        return function() {\n            console.log('dispose backtotop');\n        };\n    }, []);\n\n    return (\n        <div className=\"back-to-top\" onClick={toTop}></div>\n    );\n}\n\nexport default BackToTop;\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"\u89c6\u89c9\u4f18\u5316"),"\uff1a\u4f18\u5316\u6309\u94ae\u663e\u793a\u65f6\u673a\uff0c\u5f53\u6eda\u8f6e\u672a\u6eda\u52a8\u65f6\uff0c\u6309\u94ae\u9690\u85cf\uff0c\u6eda\u52a8\u65f6\u663e\u793a\uff0c\u6216\u662f\u6839\u636e ",Object(a.b)("inlineCode",{parentName:"p"},"scrollTop")," \u548c ",Object(a.b)("inlineCode",{parentName:"p"},"clientHeight")," \u6765\u5224\u65ad\u5f53\u5f53\u524d\u9875\u9762\u6eda\u52a8\u4e86\u4e00\u4e2a\u89c6\u53e3\u9ad8\u5ea6\u65f6\uff0c\u663e\u793a\u6309\u94ae\u3002"),Object(a.b)("p",null,"\u6240\u4ee5\u9700\u8981\u76d1\u542c ",Object(a.b)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/scroll_event"},"scroll")," \u4e8b\u4ef6\uff0c\u5f53\u6eda\u8f6e\u8fdb\u884c\u6eda\u52a8\u65f6\uff0c\u89e6\u53d1\u5224\u65ad\u903b\u8f91\uff0c\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c",Object(a.b)("inlineCode",{parentName:"p"},"scroll")," \u4e8b\u4ef6\u53ef\u88ab\u9ad8\u9891\u89e6\u53d1\uff0c\u4e3a\u4e86\u6027\u80fd\u8003\u8651\uff0c\u53ef\u4ee5\u8fdb\u884c\u8282\u6d41\u9650\u5236\u3002"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"\u8282\u6d41"),"\u7684\u6548\u679c\u662f\u663e\u8457\u7684\uff0c\u5b83\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u7684\u540c\u65f6\u6781\u5927\u7684\u51cf\u5c11\u4e86\u51fd\u6570\u7684\u8c03\u7528\u6b21\u6570\u3002"),Object(a.b)("p",null,"\u7ecf\u5b9e\u6d4b\uff1a\u4e00\u4e2a\u9875\u9762\u4e2d\uff0c\u5728\u9875\u9762\u5e95\u90e8\u70b9\u51fb\u7f6e\u9876\u6309\u94ae\u65f6\uff0c\u82e5\u672a\u52a0\u8282\u6d41\u4f18\u5316\uff0c\u90a3\u4e48 ",Object(a.b)("inlineCode",{parentName:"p"},"scroll")," \u4e8b\u4ef6\u4e2d\u6ce8\u518c\u7684\u56de\u8c03\u51fd\u6570\u8c03\u7528\u6b21\u6570\u662f\uff1a",Object(a.b)("strong",{parentName:"p"},"42 \u6b21\uff01\uff01"),"\uff0c\u800c\u4f7f\u7528\u4e86\u8282\u6d41\u4f18\u5316\u540e\uff0c\u4e00\u6b21\u7f6e\u9876\u56de\u8c03\u51fd\u6570\u7684\u8c03\u7528\u6b21\u6570\u662f\uff1a",Object(a.b)("strong",{parentName:"p"},"6 \u6b21\uff01\uff01\uff01"),"\uff0c\u56e0\u6b64\u5728\u5408\u9002\u7684\u4f4d\u7f6e\u4f7f\u7528\u9632\u6296/\u8282\u6d41\u4f18\u5316\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\uff01"),Object(a.b)("p",null,"\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff1a"),Object(a.b)("p",null,"\u8282\u6d41\u51fd\u6570\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"// \u5ef6\u8fdf\u8c03\u7528\u7684 throttle\nfunction throttle(fn, wait) {\n    let timer = null;\n\n    return function() {\n        if (!timer) {\n            timer = setTimeout(() => {\n                fn.apply(this, [...arguments]);\n                timer = null;\n            }, wait);\n        }\n    };\n}\n\nexport default throttle;\n")),Object(a.b)("p",null,"\u7f6e\u9876\u7ec4\u4ef6\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport { useEffect } from 'react';\nimport throttle from '@site/src/utils/throttle.js';\nimport './index.css';\n\nfunction toTop(e) {\n    window.scrollTo({ \n        top: 0, \n        behavior: \"smooth\" \n    });\n}\n\nfunction onScroll(e) {\n    console.log('toggle');\n    let ele = document.getElementsByClassName('back-to-top')[0];\n    if (document.documentElement.scrollTop === 0) {\n        ele.style.visibility = 'hidden';\n    } else {\n        ele.style.visibility = 'visible';\n    }\n}\n\n// \u8282\u6d41\u4f18\u5316\uff0c\u6bcf 100 \u6beb\u79d2\u8c03\u7528\u4e00\u6b21\nconst fn = throttle(onScroll, 100);\n\nfunction BackToTop() {\n    useEffect(() => {\n        window.addEventListener('scroll', fn);\n        return function() {\n            window.removeEventListener('scroll', fn);\n        };\n    }, []);\n\n    return (\n        <div className=\"back-to-top\" onClick={toTop}></div>\n    );\n}\n\nexport default BackToTop;\n")),Object(a.b)("h2",{id:"markdown-\u56fe\u7247\u6837\u5f0f\u4f18\u5316"},"markdown \u56fe\u7247\u6837\u5f0f\u4f18\u5316"),Object(a.b)("p",null,"\u4f18\u5316\u4e4b\u524d\u7684\u56fe\u7247\u6548\u679c\uff1a"),Object(a.b)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/image-20210409224133116.png",style:{zoom:"80%"}}),Object(a.b)("p",null,"\u4f18\u5316\u540e\u7684\u56fe\u7247\u6548\u679c\uff1a"),Object(a.b)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/image-20210409224209512.png",style:{zoom:"80%"}}),Object(a.b)("p",null,"\u4e5f\u5c31\u662f\u5728\u81ea\u5b9a\u4e49 CSS \u6587\u4ef6\u4e2d\u7ed9 markdown \u4e2d\u7684\u6240\u6709\u56fe\u7247\u6837\u5f0f\u90fd\u6dfb\u52a0\u4e86\u56fe\u7247\u6c34\u5e73\u5c45\u4e2d\uff0c\u6dfb\u52a0\u4e86\u8fb9\u6846\u9634\u5f71\u4f7f\u5176\u7acb\u4f53\u5316\uff0c\u4e14\u7531\u4e8e ",Object(a.b)("inlineCode",{parentName:"p"},"<img>")," \u6807\u7b7e\u662f\u884c\u5185\u5143\u7d20\uff0c\u56e0\u6b64\u5c06\u5176\u8bbe\u7f6e\u4e3a\u5757\u7ea7\u5143\u7d20\u4f7f\u5176\u72ec\u5360\u4e00\u884c\uff1a",Object(a.b)("inlineCode",{parentName:"p"},"display: block")),Object(a.b)("p",null,"\u9009\u62e9\u5668\u5b9a\u4f4d\uff1a\u4f7f\u7528\u5b50\u9009\u62e9\u5668\u6216\u540e\u4ee3\u9009\u62e9\u5668\uff1a",Object(a.b)("inlineCode",{parentName:"p"},".markdown img")," \u90fd\u53ef\uff0c\u4e3a\u4e86\u4fdd\u9669\u8d77\u89c1\uff0c\u4f7f\u7528\u540e\u4ee3\u9009\u62e9\u5668\uff08\u5b83\u5305\u62ec\u4e86\u5b50\u9009\u62e9\u5668"),Object(a.b)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/image-20210409224444058.png",style:{zoom:"80%"}}),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-css"},".markdown img {\n    max-width: 100%;\n    margin: 1.5rem auto;\n    display: block;\n    box-shadow: 0 5px 11px 0 rgba(0,0,0,0.18), 0 4px 15px 0 rgba(0,0,0,0.15);\n    border-radius: 3px;\n}\n")))}p.isMDXComponent=!0}}]);