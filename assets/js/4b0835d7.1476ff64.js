(self.webpackChunkyle_blog=self.webpackChunkyle_blog||[]).push([[2414],{20895:function(e,t,i){"use strict";i.d(t,{dK:function(){return r},_k:function(){return a},vc:function(){return s},rx:function(){return c},qo:function(){return l},Hk:function(){return m},Iz:function(){return u}});var n=i(31336),o=i.n(n);i(30892)(o()),i(54212).w(o()),i(74182)(o());var r=["en","zh"],a=!1,s=null,c="5228ca85",l=8,m=50,u={search_placeholder:"Search",see_all_results:"\u67e5\u770b\u6240\u6709\u76f8\u5173\u7ed3\u679c\ud83d\udc40",no_results:"\u62b1\u6b49\uff0c\u6682\u65f6\u6ca1\u6709\u8fd9\u65b9\u9762\u7684\u6587\u7ae0\ud83d\ude23.",search_results_for:'\u5173\u4e8e "{{ keyword }}" \u7684\u6240\u6709\u6587\u7ae0',search_the_documentation:"\u4ece\u5f53\u524d\u7ad9\u70b9\u4e2d\u67e5\u627e\u5173\u952e\u5b57",count_documents_found:"\u4e00\u5171\u627e\u5230\u4e86 {{ count }} \u7bc7\u76f8\u5173\u6587\u7ae0\ud83d\udc40",count_documents_found_plural:"\u4e00\u5171\u627e\u5230\u4e86 {{ count }} \u7bc7\u76f8\u5173\u6587\u7ae0\ud83d\udc40",no_documents_were_found:"\u5565\u4e5f\u6ca1\u627e\u5230\uff0c\u6362\u4e00\u4e2a\u5173\u952e\u8bcd\u5427\ud83d\ude35"}},20348:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i(16318),o=i(63349),r=i(41788),a=i(96156),s=i(67294),c=i(86591),l=i(99105),m=i(54734),u=function(e){function t(){var t;return t=e.call(this)||this,(0,a.Z)((0,o.Z)(t),"updateMapSize",(function(){t.mapSize+=3,t.forceUpdate()})),(0,a.Z)((0,o.Z)(t),"initialTree",(function(){for(var e=0;e<t.mapSize;e++){t.tree[e]=[];for(var i=0;i<t.mapSize;i++)t.tree[e][i]=-1}})),(0,a.Z)((0,o.Z)(t),"initialIsConnect",(function(){for(var e=0;e<t.mapSize*t.mapSize;e++){t.isConnect[e]=[];for(var i=0;i<t.mapSize*t.mapSize;i++)t.isConnect[e][i]=-1}})),(0,a.Z)((0,o.Z)(t),"drawChessBoard",(function(){for(var e=t.ctx_chess,i=0;i<=t.mapSize;i++)e.strokeStyle="gray",e.moveTo(15+t.borderSize*i,15),e.lineTo(15+t.borderSize*i,15+t.mapSize*t.borderSize),e.stroke(),e.moveTo(15,15+t.borderSize*i),e.lineTo(15+t.mapSize*t.borderSize,15+t.borderSize*i),e.stroke()})),(0,a.Z)((0,o.Z)(t),"getRowAndCol",(function(e){var i=[];return i.push(Math.floor(e/t.mapSize)),i.push(e%t.mapSize),i})),(0,a.Z)((0,o.Z)(t),"getNeighbourId",(function(e){var i=t.getRowAndCol(e),n=i[0],o=i[1],r=new Array;return n-1>=0&&r.push((n-1)*t.mapSize+o),n+1<t.mapSize&&r.push((n+1)*t.mapSize+o),o-1>=0&&r.push(e-1),o+1<t.mapSize&&r.push(e+1),r[Math.floor(Math.random()*r.length)]})),(0,a.Z)((0,o.Z)(t),"getRoot",(function(e){var i=t.getRowAndCol(e),n=i[0],o=i[1],r=t.tree[n][o];return r>=0?t.getRoot(r):e})),(0,a.Z)((0,o.Z)(t),"union",(function(e,i){var n=t.getRoot(e),o=t.getRoot(i);if(n!==o){var r=t.getRowAndCol(o),a=r[0],s=r[1];t.tree[a][s]=n}})),(0,a.Z)((0,o.Z)(t),"clearLine",(function(e,i){var n=t.ctx_chess,o=t.getRowAndCol(e),r=t.getRowAndCol(i),a=o[0],s=o[1],c=r[0],l=r[1],m=Math.ceil((a+c)/2),u=Math.ceil((s+l)/2);a===c?n.clearRect(14+t.borderSize*u,16+t.borderSize*m,2,t.borderSize-2):s===l&&n.clearRect(16+t.borderSize*u,14+t.borderSize*m,t.borderSize-2,2)})),(0,a.Z)((0,o.Z)(t),"drawMazeMap",(function(){for(;t.getRoot(0)!==t.getRoot(t.mapSize*t.mapSize-1);){var e=Math.floor(Math.random()*t.mapSize*t.mapSize),i=t.getNeighbourId(e);t.getRoot(e)!==t.getRoot(i)&&(t.isConnect[e][i]=1,t.isConnect[i][e]=1,t.clearLine(e,i),t.union(e,i))}})),(0,a.Z)((0,o.Z)(t),"openNotification",(function(){n.default.open({message:"\u8ff7\u5bab\u5c0f\u6e38\u620f",description:"\u4f7f\u7528 W\u3001S\u3001A\u3001D \u6765\u63a7\u5236\u5c0f\u65b9\u5757\u79fb\u52a8\u3002\u6e38\u620f\u5171\u6709\u4e09\u5173\uff0c\u6bcf\u5173\u7ed3\u675f\u540e\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230\u4e0b\u4e00\u5173\uff0c\u7ed3\u675f\u540e\u63d0\u4ea4\u6570\u636e\u7edf\u8ba1\u6392\u540d(TODO)\uff0c\u522b\u6682\u505c\u4f5c\u5f0a\u54e6~.",top:60})})),t.mapSize=14,t.borderSize=30,t.tree=[],t.isConnect=[],t}(0,r.Z)(t,e);var i=t.prototype;return i.componentDidMount=function(){this.chess=document.getElementById("maze-canvas"),this.ctx_chess=this.chess.getContext("2d"),this.rect=document.getElementById("maze-canvas"),this.ctx_rect=this.rect.getContext("2d");var e=document.getElementById("maze-time");this.rectangle=new h({ctx_chess:this.ctx_chess,rect:this.rect,ctx_rect:this.ctx_rect,myTime:e,mapSize:this.mapSize,borderSize:this.borderSize,isConnect:this.isConnect,initialIsConnect:this.initialIsConnect,initialTree:this.initialTree,drawChessBoard:this.drawChessBoard,drawMazeMap:this.drawMazeMap,updateMapSize:this.updateMapSize}),this.initialIsConnect(),this.initialTree(),this.drawChessBoard(),this.drawMazeMap(),this.rectangle.load(),this.forceUpdate()},i.componentWillUnmount=function(){this.rectangle.unmount()},i.render=function(){return s.createElement(c.Z,null,s.createElement(l.Z,null,s.createElement("title",null,"\u8ff7\u5bab\u5c0f\u6e38\u620f | Yle")),s.createElement("div",{id:"maze-container"},s.createElement("div",{className:"layout-container"},s.createElement("div",{className:"maze-left"},s.createElement("canvas",{id:"maze-canvas",width:630,height:630})),s.createElement("div",{className:"maze-right"},s.createElement("div",{className:"maze-buttons"},s.createElement("div",{id:"maze-time"}),this.rectangle?s.createElement("div",null,s.createElement("button",{className:"maze-button",onClick:this.openNotification},"\u7b80\u4ecb"),s.createElement("button",{className:"maze-button",onClick:this.rectangle.start},"\u5f00\u59cb\u6e38\u620f"),s.createElement("button",{className:"maze-button",onClick:this.rectangle.stop},"\u6682\u505c"),s.createElement("button",{className:"maze-button",onClick:this.rectangle.renovates},"\u91cd\u65b0\u5f00\u59cb")):null),s.createElement("div",{className:"maze-rank"},"\u699c\u5355\uff08TODO)")))),s.createElement("div",{className:"maze-comment"},s.createElement(m.Z,null)))},t}(s.Component),h=function(){function e(e){var t=this;(0,a.Z)(this,"timer",(function(){t.ms+=50,t.ms>=1e3&&(t.ms=0,t.s+=1),t.s>=60&&(t.s=0,t.m+=1),t.m>=60&&(t.m=0,t.h+=1);var e=t.formatMs(t.ms)+"";e=e.padStart(4,"0");var i=t.formatTime(t.h)+"\u65f6"+t.formatTime(t.m)+"\u5206"+t.formatTime(t.s)+"\u79d2"+e+"\u6beb\u79d2";t.myTime.innerHTML=i})),(0,a.Z)(this,"start",(function(){t.timerID&&clearInterval(t.timerID),23===t.maze.mapSize&&t.renovates(),t.state=1,t.timerID=setInterval(t.timer,50)})),(0,a.Z)(this,"stop",(function(){t.state=0,clearInterval(t.timerID)})),(0,a.Z)(this,"renovates",(function(){t.unmount(),document.location.reload()})),(0,a.Z)(this,"unmount",(function(){window.removeEventListener("keydown",t.doKeyDown)})),(0,a.Z)(this,"doKeyDown",(function(e){e=e||window.event;var i=t.maze,n=t.ctx_rect,o="number"==typeof e.which?e.which:e.keyCode;1===t.state&&(38!==o&&87!==o||t.row>0&&1===i.isConnect[t.row*i.mapSize+t.col][(t.row-1)*i.mapSize+t.col]&&(t.clearRect(),t.y-=30,t.row-=1,n.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()),40!==o&&83!==o||t.row<i.mapSize&&1===i.isConnect[t.row*i.mapSize+t.col][(t.row+1)*i.mapSize+t.col]&&(t.clearRect(),t.y+=30,t.row+=1,n.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()),37!==o&&65!==o||t.col>0&&1===i.isConnect[t.row*i.mapSize+t.col][t.row*i.mapSize+t.col-1]&&(t.clearRect(),t.x-=30,t.col-=1,n.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()),39!==o&&68!==o||t.col<i.mapSize&&1===i.isConnect[t.row*i.mapSize+t.col][t.row*i.mapSize+t.col+1]&&(t.clearRect(),t.x+=30,t.col+=1,n.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()))})),(0,a.Z)(this,"load",(function(){var e=t.ctx_rect,i=t.rect;e.fillStyle="blue",e.fillRect(t.x,t.y,t.len,t.len),e.fillStyle="red",e.fillRect(t.outX,t.outY,t.len,t.len),e.fillStyle="blue",i.focus(),window.addEventListener("keydown",t.doKeyDown)})),(0,a.Z)(this,"clearRect",(function(){t.ctx_rect.clearRect(t.x-1,t.y-1,t.len+1,t.len+1)})),(0,a.Z)(this,"isOver",(function(){t.x>=t.outX&&t.y>=t.outY&&(t.isEnd=!0)})),(0,a.Z)(this,"showNextChessBoard",(function(){var e=t.maze,i=t.ctx_chess;!0===t.isEnd&&(e.mapSize+=3,e.updateMapSize(),23===e.mapSize?t.stop():(t.isEnd=!1,i.clearRect(0,0,630,630),e.initialTree(),e.initialIsConnect(),e.drawChessBoard(),e.drawMazeMap(),t.x=20,t.y=20,t.row=0,t.col=0,t.outX=e.borderSize*e.mapSize-10,t.outY=e.borderSize*e.mapSize-10,t.load()))})),this.myTime=e.myTime,this.rect=e.rect,this.ctx_rect=e.ctx_rect,this.ctx_chess=e.ctx_chess,this.maze={mapSize:e.mapSize,borderSize:e.borderSize,isConnect:e.isConnect,initialIsConnect:e.initialIsConnect,initialTree:e.initialTree,drawChessBoard:e.drawChessBoard,drawMazeMap:e.drawMazeMap,updateMapSize:e.updateMapSize},this.x=20,this.y=20,this.len=20,this.state=0,this.isEnd=!1,this.row=0,this.col=0,this.outX=this.maze.mapSize*this.maze.borderSize-10,this.outY=this.maze.mapSize*this.maze.borderSize-10,this.h=0,this.m=0,this.s=0,this.ms=0,this.timerID=0}var t=e.prototype;return t.formatTime=function(e){return e<10?"0"+e:e},t.formatMs=function(e){return e<10?"00"+e:"0"+e},e}()}}]);