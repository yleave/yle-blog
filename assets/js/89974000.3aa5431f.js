"use strict";(self.webpackChunkyle_blog=self.webpackChunkyle_blog||[]).push([[9319],{71049:function(e,n,t){var a=t(15851);n.Z=function(e){var n=e.children,t=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:r},n)}},17509:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(15851),r=t(27067);var l=function(){var e=(0,a.useContext)(r.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},o=t(44927),i="tabItem_60p2",p="tabItemActive_3zow";var s=function(e){var n,t=e.lazy,r=e.block,s=e.defaultValue,c=e.values,u=e.groupId,m=e.className,d=a.Children.toArray(e.children),f=null!=c?c:d.map((function(e){return{value:e.props.value,label:e.props.label}})),k=null!=s?s:null==(n=d.find((function(e){return e.props.default})))?void 0:n.props.value,N=l(),h=N.tabGroupChoices,b=N.setTabGroupChoices,y=(0,a.useState)(k),g=y[0],j=y[1],C=[];if(null!=u){var v=h[u];null!=v&&v!==g&&f.some((function(e){return e.value===v}))&&j(v)}var w=function(e){var n=e.currentTarget,t=C.indexOf(n),a=f[t].value;j(a),null!=u&&(b(u,a),setTimeout((function(){var e,t,a,r,l,o,i,s;(e=n.getBoundingClientRect(),t=e.top,a=e.left,r=e.bottom,l=e.right,o=window,i=o.innerHeight,s=o.innerWidth,t>=0&&l<=s&&r<=i&&a>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(p),setTimeout((function(){return n.classList.remove(p)}),2e3))}),150))},O=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=C.indexOf(e.target)+1;t=C[a]||C[0];break;case"ArrowLeft":var r=C.indexOf(e.target)-1;t=C[r]||C[C.length-1]}null==(n=t)||n.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.default)("tabs",{"tabs--block":r},m)},f.map((function(e){var n=e.value,t=e.label;return a.createElement("li",{role:"tab",tabIndex:g===n?0:-1,"aria-selected":g===n,className:(0,o.default)("tabs__item",i,{"tabs__item--active":g===n}),key:n,ref:function(e){return C.push(e)},onKeyDown:O,onFocus:w,onClick:w},null!=t?t:n)}))),t?(0,a.cloneElement)(d.filter((function(e){return e.props.value===g}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},d.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==g})}))))}},45971:function(e,n,t){var a=t(15851);n.Z=function(e){var n=e.children,t=e.color;return a.createElement("span",{style:{backgroundColor:t||"#0099CC",borderRadius:"4px",color:"white",padding:"0.2rem"}},n)}},35833:function(e,n,t){t.d(n,{Z:function(){return N}});var a=t(16866),r=t(65581),l=(t(43450),t(91626)),o=t(15851),i=t(89042),p=t.n(i),s=t(23159),c=t.n(s),u=t(10380),m=t(21702),d=["node","inline","className","children"],f=l.Z.Panel,k={code:function(e){e.node;var n=e.inline,t=e.className,l=e.children,i=(0,r.Z)(e,d),p=/language-(\w+)/.exec(t||"");return!n&&p?o.createElement(u.Z,(0,a.Z)({style:m.Z,language:p[1],PreTag:"div",children:String(l).replace(/\n$/,"")},i)):o.createElement("code",(0,a.Z)({className:t},i))}};function N(e){var n=e.markdown,t=e.header,a=e.OtherComponents;return o.createElement(l.Z,{bordered:!1,style:{paddingBottom:"1.5rem"}},o.createElement(f,{header:t},o.createElement(p(),{components:k,children:""+n,remarkPlugins:[c()]}),a?o.createElement(a,null):null))}},19194:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return u},metadata:function(){return m},toc:function(){return d},default:function(){return k}});var a=t(16866),r=t(65581),l=(t(15851),t(99278)),o=(t(45971),t(21088)),i=(t(17509),t(71049),t(42841)),p=t(35833),s=["components"],c={slug:"front-end-code",title:"\u524d\u7aef\u4ee3\u7801\u98981"},u=void 0,m={unversionedId:"interview/\u516b\u80a1\u6587/2021-10-03-front-end-code",id:"interview/\u516b\u80a1\u6587/2021-10-03-front-end-code",isDocsHomePage:!1,title:"\u524d\u7aef\u4ee3\u7801\u98981",description:"1. \u8282\u6d41\u548c\u9632\u6296",source:"@site/docs/interview/\u516b\u80a1\u6587/2021-10-03-front-end-code.md",sourceDirName:"interview/\u516b\u80a1\u6587",slug:"/interview/\u516b\u80a1\u6587/front-end-code",permalink:"/docs/interview/\u516b\u80a1\u6587/front-end-code",tags:[],version:"current",frontMatter:{slug:"front-end-code",title:"\u524d\u7aef\u4ee3\u7801\u98981"},sidebar:"interview",previous:{title:"\u79cb\u62db\u9762\u7ecf2",permalink:"/docs/interview/\u9762\u7ecf/autumn-recruitment2"},next:{title:"\u524d\u7aef\u4ee3\u7801\u98982",permalink:"/docs/interview/\u516b\u80a1\u6587/front-end-code2"}},d=[{value:"1. \u8282\u6d41\u548c\u9632\u6296",id:"1-\u8282\u6d41\u548c\u9632\u6296",children:[{value:"\u9632\u6296",id:"\u9632\u6296",children:[]},{value:"\u8282\u6d41",id:"\u8282\u6d41",children:[]}]},{value:"2. \u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d",id:"2-\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d",children:[{value:"\u6d45\u62f7\u8d1d",id:"\u6d45\u62f7\u8d1d",children:[]},{value:"\u6df1\u62f7\u8d1d",id:"\u6df1\u62f7\u8d1d",children:[]}]},{value:"3. \u539f\u751f JS \u65b9\u6cd5\u5b9e\u73b0",id:"3-\u539f\u751f-js-\u65b9\u6cd5\u5b9e\u73b0",children:[{value:"instancof",id:"instancof",children:[]},{value:"Object.create",id:"objectcreate",children:[]},{value:"new",id:"new",children:[]},{value:"call &amp; apply",id:"call--apply",children:[]},{value:"Function.prototype.bind",id:"functionprototypebind",children:[]},{value:"Array.prototype.map",id:"arrayprototypemap",children:[]},{value:"Array.prototype.flat",id:"arrayprototypeflat",children:[]},{value:"Array.prototype.euqals",id:"arrayprototypeeuqals",children:[]},{value:"Object.prototype.equals",id:"objectprototypeequals",children:[]},{value:"Array.prototype.filter",id:"arrayprototypefilter",children:[]},{value:"Array.prototype.reduce",id:"arrayprototypereduce",children:[]}]}],f={toc:d};function k(e){var n=e.components,t=(0,r.Z)(e,s);return(0,l.kt)("wrapper",(0,a.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)(o.jA,{time:"2021-10-03",lastUpdate:"2021-10-4",mdxType:"InterviewComponent"}),(0,l.kt)("h2",{id:"1-\u8282\u6d41\u548c\u9632\u6296"},"1. \u8282\u6d41\u548c\u9632\u6296"),(0,l.kt)("p",null,"\u2003","\u2003","\u5bf9\u4e8e\u4e00\u4e9b\u9891\u7e41\u7684\u64cd\u4f5c\uff0c\u5982\u5bf9\u7a97\u53e3\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"resize"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"scroll"),"\u3001\u8f93\u5165\u6846\u5185\u5bb9\u6539\u52a8\u54cd\u5e94\u65f6\uff0c\u5982\u679c\u76f8\u5e94\u5904\u7406\u51fd\u6570\u6ca1\u6709\u9891\u7387\u9650\u5236\u7684\u8bdd\uff0c\u4f1a\u52a0\u91cd\u6d4f\u89c8\u5668\u7684\u8d1f\u62c5\uff0c\u5bfc\u81f4\u7528\u6237\u4f53\u9a8c\u5dee\uff0c\u800c\u9632\u6296(debounce) \u548c\u8282\u6d41(throttle) \u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u5904\u7406\u51fd\u6570\u7684\u8c03\u7528\u9891\u7387\uff0c\u540c\u65f6\u4e0d\u5f71\u54cd\u5b9e\u9645\u6548\u679c\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u8282\u6d41\u548c\u9632\u6296\u8fd9\u8fb9\u53ea\u63d0\u4f9b\u51e0\u4e2a\u57fa\u672c\u7248\u672c\uff0c\u6709\u66f4\u591a\u529f\u80fd\u7684\u8282\u6d41\u9632\u6296\u51fd\u6570\u5b9e\u73b0\u53ef\u79fb\u6b65\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/mqyqingfeng/Blog/issues/22"},"\u8ddf\u7740underscore\u5b66\u9632\u6296\u3001\u8282\u6d41")),(0,l.kt)("h3",{id:"\u9632\u6296"},"\u9632\u6296"),(0,l.kt)("p",null,"\u2003","\u2003","\u5728\u4e00\u4e2a\u8fde\u7eed\uff08\u65f6\u95f4\u95f4\u9694\u5f88\u77ed\uff09\u7684\u64cd\u4f5c\u4e2d\uff0c\u5904\u7406\u51fd\u6570\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u4e5f\u5373\u89e6\u53d1\u9ad8\u9891\u4e8b\u4ef6\u540e\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u8ba1\u65f6\u5668\u8fdb\u884c\u8ba1\u65f6\uff0c\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u5185\u91cd\u65b0\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u4f1a\u4f7f\u8ba1\u65f6\u5668\u91cd\u65b0\u8ba1\u7b97\u65f6\u95f4\uff0c\u53ea\u6709\u5728\u8ba1\u65f6\u5668\u8ba1\u65f6\u5b8c\u6210\u540e\uff0c\u624d\u80fd\u518d\u6b21\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u56e0\u6b64\u5b9e\u73b0\u601d\u8def\u5c31\u662f\u4f7f\u7528\u4e00\u4e2a\u5b9a\u65f6\u5668\u5ef6\u8fdf\u8c03\u7528\u5904\u7406\u51fd\u6570\uff0c\u6bcf\u6b21\u89e6\u53d1\u4e8b\u4ef6\u540e\u90fd\u53d6\u6d88\u4e4b\u524d\u5ef6\u8fdf\u8c03\u7528\u7684\u65b9\u6cd5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function debounce(fn, wait) {\n    let timeout = null;\n    return function() {\n        // \u6bcf\u5f53\u7528\u6237\u8f93\u5165\u7684\u65f6\u5019\u628a\u524d\u4e00\u4e2a setTimeout clear \u6389\n        clearTimeout(timeout); \n        // \u7136\u540e\u53c8\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 setTimeout, \u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u8f93\u5165\u5b57\u7b26\u540e\u7684 interval \u95f4\u9694\u5185\u5982\u679c\u8fd8\u6709\u5b57\u7b26\u8f93\u5165\u7684\u8bdd\uff0c\u5c31\u4e0d\u4f1a\u6267\u884c fn \u51fd\u6570\n        timeout = setTimeout(() => {\n            // this \u786e\u4fdd\u5f53\u524d\u6307\u5411\u7684\u5bf9\u8c61\u662f\u8c03\u7528\u51fd\u6570\u7684\u5bf9\u8c61\uff0c\u5982 input \u5bf9\u8c61\n            fn.apply(this, arguments);\n        }, wait);\n    };\n}\n")),(0,l.kt)("p",null,"\u2003","\u2003","\u5728\u4e0a\u8ff0\u7684\u9632\u6296\u51fd\u6570\u4e2d\uff0c\u5982\u679c\u9ad8\u9891\u4e8b\u4ef6\u88ab\u6301\u7eed\u89e6\u53d1\uff0c\u90a3\u4e48\u53ea\u6709\u5728\u6700\u540e\u4e00\u6b21\u89e6\u53d1\u7ed3\u675f\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," \u6beb\u79d2\u540e\uff0c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u624d\u4f1a\u88ab\u6267\u884c\u3002\u56e0\u6b64\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u7684\u9632\u6296\u51fd\u6570\u88ab\u79f0\u4f5c\u5ef6\u8fdf\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u76f8\u5bf9\u4e8e\u5ef6\u8fdf\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\uff0c\u8fd8\u6709\u4e00\u4e2a\u80fd\u591f\u7acb\u5373\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\u3002\u662f\u5426\u9700\u8981\u7acb\u5373\u6267\u884c\u53ef\u4f7f\u7528\u4e00\u4e2a\u53c2\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"immediate")," \u6765\u8fdb\u884c\u63a7\u5236\uff0c\u5f53 ",(0,l.kt)("inlineCode",{parentName:"p"},"immediate")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," \u65f6\uff0c\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," \u79d2\u540e\u624d\u80fd\u91cd\u65b0\u89e6\u53d1\uff08\u5373\u5f53 ",(0,l.kt)("inlineCode",{parentName:"p"},"timer")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," \u65f6\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function immedDebounce(fn, wait, immediate) {\n    let timer = null;\n    return function() {\n        if (timer) {\n            clearTimeout(timer);\n        }\n\n        if (immediate) {\n            // timer \u521d\u59cb\u4e3a null\uff0c\u56e0\u6b64\u80fd\u591f\u7acb\u5373\u6267\u884c\n            let callNow = !timer;\n\n            // \u5728 wait \u6beb\u79d2\u540e\u91cd\u7f6e timer \u4e3a null\n            timer = setTimeout(() => {\n                timer = null;\n            }, wait);\n\n            if (callNow) {\n                fn.apply(this, arguments);\n            }\n        } else {\n            timer = setTimeout(() => {\n                fn.apply(this, arguments);\n            }, wait);\n        }\n    }\n}\n")),(0,l.kt)("p",null,"\u2003","\u2003","\u9632\u6296\u7684\u5b9e\u73b0\u9664\u4e86\u4f7f\u7528\u8ba1\u65f6\u5668\u5916\uff0c\u8fd8\u80fd\u4f7f\u7528\u65f6\u95f4\u6233\u8bb0\u5f55\u7684\u65b9\u5f0f\u5b9e\u73b0\uff0c\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function debounce(fn, wait) {\n  let activeTime = 0;\n  return function() {\n    const now = +new Date();\n\n    // \u82e5\u5df2\u7b49\u5f85\u4e86 wait \u6beb\u79d2\uff0c\u5219\u80fd\u91cd\u65b0\u89e6\u53d1\n    if (now - activeTime >= wait) {\n      fn.apply(this, arguments);\n    }\n    \n    activeTime = now;\n  };\n}\n")),(0,l.kt)("h4",{id:"\u9632\u6296\u5b9e\u4f8b"},"\u9632\u6296\u5b9e\u4f8b"),(0,l.kt)("p",null,"\u2003","\u2003","\u6709\u4e00\u4e2a\u6309\u94ae\uff0c\u70b9\u51fb\u540e\u4f1a\u6253\u5370\u51fa 'hello'\uff0c\u6bcf\u70b9\u51fb\u4e00\u6b21\u9700\u8981\u7b49\u5f85 500 \u6beb\u79d2\u624d\u80fd\u91cd\u65b0\u6267\u884c\uff0c\u82e5\u6301\u7eed\u70b9\u51fb\u4e5f\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function sayHello() {\n    console.log('hello');\n}\n\nconst btn = document.createElement('button');\nbtn.innerText = '\u70b9\u51fb\u8f93\u51fahello';\n\ndocument.body.appendChild(btn);\n\n// \u4e0a\u6587\u4e2d\u7684\u80fd\u8bbe\u7f6e\u662f\u5426\u7acb\u5373\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\nlet debounced_hello = immedDebounce(sayHello, 500, true);\nbtn.addEventListener('click', debounced_hello);\n")),(0,l.kt)("h3",{id:"\u8282\u6d41"},"\u8282\u6d41"),(0,l.kt)("p",null,"\u2003","\u2003","\u9ad8\u9891\u4e8b\u4ef6\u7684\u8fde\u7eed\u89e6\u53d1\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"n")," \u79d2\u5185\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u54cd\u5e94\u51fd\u6570\u3002\u4e5f\u5373\u662f\u6309\u7167\u65f6\u95f4\u95f4\u9694\u8fdb\u884c\u4e8b\u4ef6\u54cd\u5e94\uff0c\u5728\u4e00\u4e2a\u65f6\u95f4\u95f4\u9694\u5185\uff0c\u54cd\u5e94\u51fd\u6570\u53ea\u4f1a\u88ab\u6267\u884c\u4e00\u6b21\uff0c\u56e0\u6b64\u8282\u6d41\u4f1a\u7a00\u91ca\u51fd\u6570\u7684\u6267\u884c\u9891\u7387\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u4e0e\u9632\u6296\u5b9e\u73b0\u76f8\u4f3c\uff0c\u8282\u6d41\u4e5f\u80fd\u4f7f\u7528\u5b9a\u65f6\u5668\u4e0e\u65f6\u95f4\u6233\u5b9e\u73b0\uff0c\u4e14\u6839\u636e\u8282\u6d41\u51fd\u6570\u5728\u6bcf\u4e00\u4e2a\u65f6\u95f4\u95f4\u9694\u4e2d\u7684\u7684\u6267\u884c\u65f6\u673a\uff0c\u5206\u4e3a\u5934\u6267\u884c\u4e0e\u5c3e\u6267\u884c\uff08\u65f6\u95f4\u95f4\u9694\u5f00\u5934\u7406\u89e3\u6267\u884c\u4e0e\u65f6\u95f4\u95f4\u9694\u7ed3\u5c3e\u6267\u884c\uff09\u3002"),(0,l.kt)("h4",{id:"\u4f7f\u7528\u5b9a\u65f6\u5668"},"\u4f7f\u7528\u5b9a\u65f6\u5668"),(0,l.kt)("p",null,"\u2003","\u2003","\u8282\u6d41\u51fd\u6570\u5728\u6bcf\u6b21\u89e6\u53d1\u65f6\u90fd\u5bf9\u5f53\u524d\u662f\u5426\u6709\u4e00\u4e2a\u5f85\u6267\u884c\u7684\u51fd\u6570\u8fdb\u884c\u5224\u65ad\uff0c\u53ea\u6709\u5f53\u4e0a\u4e00\u4e2a\u51fd\u6570\u6267\u884c\u5b8c\u540e\uff0c\u624d\u5f00\u59cb\u4e0b\u4e00\u8f6e\u7684\u5b9a\u65f6\u4efb\u52a1\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u4ee5\u4e0b\u662f\u5c3e\u6267\u884c\u7684\u8282\u6d41\u51fd\u6570\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function throttle(fn, wait) {\n  let timer = null;\n\n  return function() {\n    if (!timer) {\n      timer = setTimeout(() => {\n        fn.apply(null, arguments);\n        timer = null;\n      }, wait);\n    }\n  };\n}\n")),(0,l.kt)("p",null,"\u2003","\u2003","\u4ee5\u4e0b\u662f\u4f7f\u7528\u5b9a\u65f6\u5668\u7684\u5934\u6267\u884c\u7684\u8282\u6d41\u51fd\u6570\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function throttle(fn, wait) {\n    let timer = null;\n\n    return function() {\n        if (!timer) {\n            // \u5c06\u6267\u884c\u51fd\u6570\u653e\u5916\u9762 \u5c31\u6709\u7acb\u5373\u6267\u884c\u7684\u6548\u679c\u4e86\n            fn.apply(this, arguments);\n            timer = setTimeout(() => {\n                timer = null;\n            }, wait);\n        }\n    };\n}\n")),(0,l.kt)("h4",{id:"\u4f7f\u7528\u65f6\u95f4\u6233"},"\u4f7f\u7528\u65f6\u95f4\u6233"),(0,l.kt)("p",null,"\u2003","\u2003","\u6839\u636e\u65f6\u95f4\u6233\u6765\u5224\u65ad\u4e24\u6b21\u54cd\u5e94\u7684\u95f4\u9694\u662f\u5426\u5927\u4e8e\u8bbe\u7f6e\u7684\u95f4\u9694\uff0c\u5927\u4e8e\u624d\u80fd\u6267\u884c\u4e0b\u4e00\u6b21\u54cd\u5e94\u51fd\u6570\u3002\u8fd9\u79cd\u65b9\u6cd5**\u54cd\u5e94\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"fn")," \u4f1a\u7acb\u5373\u6267\u884c\uff08\u5934\u6267\u884c\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function throttle(fn, time) {\n    let activeTime = 0;\n    reutrn () => {\n        const current = Date.now(); // +new Date()\n        if (current - activeTime > time) {\n            fn.apply(this, arguments);\n            activeTime = current;\n        }\n    };\n}\n")),(0,l.kt)("h4",{id:"\u8282\u6d41\u5b9e\u4f8b"},"\u8282\u6d41\u5b9e\u4f8b"),(0,l.kt)("p",null,"\u2003","\u2003","\u793a\u4f8b\uff1a\u5f53\u7a97\u53e3\u8fdb\u884c\u7f29\u653e\u65f6\uff0c\u4e00\u79d2\u5185\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u6253\u5370\u7a97\u53e3\u5927\u5c0f\u7684\u8282\u6d41\u51fd\u6570(\u8282\u6d41\u51fd\u6570\u7528\u4e0a\u6587\u4efb\u610f\u4e00\u4e2a\u90fd\u884c)\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function print(e) {\n    console.log(e.target.innerWidth, e.target.innerHeight);\n}\n\nwindow.addEventListener('resize', throttle(print, 1500));\n")),(0,l.kt)("h2",{id:"2-\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d"},"2. \u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d"),(0,l.kt)("p",null,"\u2003","\u2003","\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d\u90fd\u53ea\u9488\u5bf9\u4e8e\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u4eec\u7684\u533a\u522b\u7528\u4e00\u5f20\u56fe\u6765\u8bf4\u5c31\u662f\uff1a"),(0,l.kt)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/13263206-c651dc07788bf561.png",style:{zoom:"33%"}}),(0,l.kt)("p",null,"\u2003","\u2003","\u56fe\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u76f8\u5f53\u4e8e\u5bf9\u8c61\u7684\u5d4c\u5957\u5c42\u6b21\uff0c\u6d45\u62f7\u8d1d\u53ea\u4f1a\u590d\u5236\u5bf9\u8c61\u7684\u7b2c\u4e00\u5c42\u5143\u7d20\uff0c\u82e5\u5176\u6709\u5d4c\u5957\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u8fd9\u4e9b\u5d4c\u5957\u5bf9\u8c61\u7684\u5f15\u7528\u90fd\u662f\u76f8\u540c\u7684\uff1b\u800c\u6df1\u62f7\u8d1d\u7684\u590d\u5236\u4f1a\u5305\u62ec\u8fd9\u4e9b\u5d4c\u5957\u7684\u5bf9\u8c61\uff0c\u56e0\u6b64\u590d\u5236\u51fa\u7684\u5bf9\u8c61\u4f1a\u662f\u4e24\u4e2a\u5b8c\u5168\u4e0d\u540c\u7684\u5bf9\u8c61\u3002"),(0,l.kt)("h3",{id:"\u6d45\u62f7\u8d1d"},"\u6d45\u62f7\u8d1d"),(0,l.kt)("p",null,"\u2003","\u2003","\u6d45\u62f7\u8d1d\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u591a\u79cd\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"Object.assign")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"}," const obj2 = Object.assign({}, obj);\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5c55\u5f00\u8fd0\u7b97\u7b26"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const obj2 = {...obj};\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u5faa\u73af\u904d\u5386"),(0,l.kt)("p",{parentName:"li"},"\u2003","\u2003","\u5728\u4e0b\u9762\u7684\u904d\u5386\u4e2d\uff0c\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"Object.entries")," \u4e0d\u4f1a\u904d\u5386\u539f\u578b\u94fe\u4e0a\u7684\u5c5e\u6027\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"obj.hasOwnProperty")," \u6765\u9a8c\u8bc1\u662f\u5426\u662f\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u82e5\u662f\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"for in")," \u904d\u5386\u5bf9\u8c61\u5219\u9700\u8981\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"}," function shallowCopy(obj) {\n   if (!obj || typeof obj !== 'object') {\n       return obj;\n   }\n   const obj2 = Array.isArray(obj) ? [] : {};\n   for (let [key, value] of Object.entries(obj)) {\n       obj2[key] = value;\n   }\n\n   return obj2;\n}\nconst obj2 = shallowCopy(obj);\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u6570\u7ec4\u6d45\u62f7\u8d1d"),(0,l.kt)("p",{parentName:"li"}," ","\u2003","\u2003","\u53ef\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"slice"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"concat")," \u4ee5\u53ca ",(0,l.kt)("inlineCode",{parentName:"p"},"Array.from")," \u65b9\u6cd5\u6765\u5b9e\u73b0\u6570\u7ec4\u5bf9\u8c61\u7684\u6d45\u62f7\u8d1d\u3002\u8fd9\u51e0\u4e2a\u65b9\u6cd5\u90fd\u4e0d\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\uff0c\u5b83\u4eec\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4\uff1a"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const arr2 = arr.slice();\n\nconst arr3 = arr.concat([]); // [].concat(arr);\n\nconst arr4 = Array.from(arr3);\n")))),(0,l.kt)("h3",{id:"\u6df1\u62f7\u8d1d"},"\u6df1\u62f7\u8d1d"),(0,l.kt)("p",null,"\u2003","\u2003","\u5728\u8fdb\u884c\u6df1\u62f7\u8d1d\u65f6\u9700\u8981\u8003\u8651",(0,l.kt)("strong",{parentName:"p"},"\u5faa\u73af\u5f15\u7528"),"\u4e0e\u7279\u6b8a\u5bf9\u8c61\u7684\u62f7\u8d1d\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u5982\u679c\u9047\u5230\u590d\u6742\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528\u5de5\u5177\u5e93\uff0c\u6bd4\u5982 lodash \u7684 ",(0,l.kt)("a",{parentName:"p",href:"https://www.lodashjs.com/docs/lodash.cloneDeep/"},"cloneDeep")," \u65b9\u6cd5\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"JSON.parse \u548c JSON.stringfy"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const obj2 = JSON.parse(JSON.stringify(obj));\n")),(0,l.kt)("p",{parentName:"li"},"\u2003","\u2003","\u7f3a\u9677\uff1a\u4f1a\u5ffd\u7565",(0,l.kt)("inlineCode",{parentName:"p"},"undefined"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"\u4efb\u610f\u7684\u51fd\u6570"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"symbol")," \u503c\uff0c\u4e14\u5b83\u80fd\u6b63\u786e\u5904\u7406\u7684\u5bf9\u8c61\u53ea\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"Number"),"\u3001 ",(0,l.kt)("inlineCode",{parentName:"p"},"String"),"\u3001 ",(0,l.kt)("inlineCode",{parentName:"p"},"Boolean"),"\u3001 ",(0,l.kt)("inlineCode",{parentName:"p"},"Array")," \u548c\u6241\u5e73\u5bf9\u8c61\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u6709\u53ef\u4ee5\u8f6c\u6210 JSON \u683c\u5f0f\u7684\u5bf9\u8c61\u624d\u53ef\u4ee5\u8fd9\u6837\u7528\uff0c\u50cf ",(0,l.kt)("inlineCode",{parentName:"p"},"function")," \u5c31\u6ca1\u529e\u6cd5\u8f6c\u6210 JSON\uff0c\u6b64\u5916\u7279\u6b8a\u7684\u5bf9\u8c61\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"RegExp"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Date"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Set"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Map")," \u7b49\u4e5f\u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u8fdb\u884c\u6df1\u62f7\u8d1d\u3002")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u7a0d\u4e3a\u5b8c\u5907\u7684\u6df1\u62f7\u8d1d"),(0,l.kt)("p",{parentName:"li"},"\u2003","\u2003","\u4f7f\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"WeakMap")," \u89e3\u51b3\u4e86\u5faa\u73af\u5f15\u7528\u95ee\u9898\uff0c\u4e14\u4e0d\u4f1a\u9020\u6210\u5185\u5b58\u6cc4\u6f0f\u3002"),(0,l.kt)("p",{parentName:"li"},"\u2003","\u2003","\u80fd\u5e94\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"RegExp"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Date"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Function"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Map"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Set")," \u7b49\u7279\u6b8a\u5bf9\u8c61\u7684\u62f7\u8d1d\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function deepClone(obj, map=new WeakMap()) {\n  // \u5904\u7406 null \u548c undefined\n  if (obj == null) return obj;\n\n  // \u82e5\u662f\u57fa\u672c\u7c7b\u578b\uff0c\u76f4\u63a5\u8fd4\u56de\n  if (typeof obj !== 'object' && typeof obj !== 'function') return obj;\n\n  // \u5904\u7406 Date \u548c RegExp\n  if (obj instanceof Date) return new Date(obj);\n  if (obj instanceof RegExp) return new RegExp(obj.source, obj.flags);\n\n  // \u4f7f\u7528 map \u89e3\u51b3\u5faa\u73af\u5f15\u7528\u95ee\u9898\n  if (map.has(obj)) return map.get(obj);\n\n  // \u5904\u7406\u51fd\u6570\u5bf9\u8c61 \u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u5728\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\u4f1a\u8fd4\u56de\u539f\u672c\u51fd\u6570\u7684\u6267\u884c\u7ed3\u679c\n  if (obj instanceof Function) {\n      return function() {\n          return obj.apply(this, [...arguments]);\n      }\n  }\n\n  // \u4e0b\u9762\u662f \u6570\u7ec4/\u666e\u901a\u5bf9\u8c61/Set/Map \u7684\u5904\u7406\n\n  // \u4ece\u5176\u539f\u578b\u94fe\u4e2d\u7ee7\u627f\u7684 constructor\n  const res = new obj.constructor();\n\n  // \u8bbe\u7f6e map \u4ee5\u5904\u7406\u5faa\u73af\u5f15\u7528\u95ee\u9898\n  map.set(obj, res);\n\n  if (obj instanceof Map) {\n      obj.forEach((item, index) => {\n          // index \u4e0d\u4e00\u5b9a\u662f\u57fa\u672c\u6570\u636e\u7c7b\u578b\n          res.set(deepClone(index, map), deepClone(item, map));\n      });\n  } else if (obj instanceof Set) {\n      obj.forEach((item) => {\n          obj.add(deepClone(item, map));\n      });\n  } else {\n      // \u4f7f\u7528 Object.entries \u4e0d\u9700\u8981\u518d\u4f7f\u7528 hasOwnProperty \u6765\u9a8c\u8bc1\u662f\u5426\u662f\u81ea\u8eab\u5c5e\u6027\n      for (let [key, value] of Object.entries(obj)) {\n          if (value && typeof value === 'object') {\n              res[key] = deepClone(value, map);\n          } else {\n              res[key] = value;\n          }\n      }\n  }\n\n  return res;\n}\n")))),(0,l.kt)("h2",{id:"3-\u539f\u751f-js-\u65b9\u6cd5\u5b9e\u73b0"},"3. \u539f\u751f JS \u65b9\u6cd5\u5b9e\u73b0"),(0,l.kt)("p",null,"\u2003","\u2003","\u539f\u751f JS \u7684\u5404\u79cd\u65b9\u6cd5\u5b9e\u73b0\u662f\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u90e8\u5206\uff0c\u4e0d\u4ec5\u4ec5\u662f\u4e3a\u4e86\u5e94\u5bf9\u9762\u8bd5\uff0c\u5b66\u4e60\u539f\u751f JS \u65b9\u6cd5\u7684\u5b9e\u73b0\u8fd8\u80fd\u5e2e\u52a9\u6211\u4eec\u5bf9 JS \u6709\u4e00\u4e2a\u66f4\u597d\u7684\u7406\u89e3\uff0c\u5728\u5199\u4ee3\u7801\u7684\u65f6\u5019\u4e5f\u80fd\u5c11\u51fa\u70b9 BUG\u3002"),(0,l.kt)("h3",{id:"instancof"},"instancof"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof"},"MDN \u6587\u6863")),(0,l.kt)("p",null,"\u2003","\u2003",(0,l.kt)("inlineCode",{parentName:"p"},"instanceof")," \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"prototype")," \u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u6545\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"instanceof "),"\u64cd\u4f5c\u7b26\u5176\u5b9e\u5c31\u662f\u68c0\u67e5\u5de6\u4fa7\u7684\u5143\u7d20\u7684 ",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("strong",{parentName:"strong"},"proto"))," \u94fe\u4e0a\u6709\u6ca1\u6709\u53f3\u4fa7\u7c7b\u6216\u5bf9\u8c61\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"prototype"),"\u5b58\u5728\u3002\u56e0\u6b64\u5b9e\u73b0\u601d\u8def\u5c31\u662f\u987a\u7740\u539f\u578b\u94fe\u9010\u5c42\u67e5\u627e\uff0c\u76f4\u5230\u539f\u578b\u94fe\u7684\u5c3d\u5934 ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," \u4e3a\u6b62\uff0c\u82e5\u8fc7\u7a0b\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"left")," \u7684\u539f\u578b\u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"right")," \u7684\u539f\u578b\u76f8\u540c\uff0c\u5219\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function myInstanceof(left, right) {\n    // \u9996\u5148\uff0c\u5bf9\u4e8e\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u5f8b\u8fd4\u56de false\n    if (!left || typeof left !== 'object') {\n        return false;\n    }\n\n    // \u83b7\u53d6\u5de6\u8fb9\u7684\u539f\u578b\n    let proto = Object.getPrototypeOf(left);\n\n    while (true) {\n        if (proto === null) return false;\n        if (proto === right.prototype) return true;\n        proto = Object.getPrototypeOf(proto);\n    }\n}\n")),(0,l.kt)("h3",{id:"objectcreate"},"Object.create"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create#polyfill"},"MDN Polyfill")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u521b\u5efa\u4e00\u4e2a\u7eaf\u51c0\u7684\u65b0\u5bf9\u8c61\uff0c\u7136\u540e\u7ee7\u627f\u5176\u539f\u578b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Object.prototype.myCreate = function(proto) {\n    // \u521b\u5efa\u4e00\u4e2a\u7a7a\u51fd\u6570\u5e76\u5c06\u5176 prototypr \u6307\u5411 proto\n    function F() {}\n    F.prototype = proto;\n\n    // \u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8fd9\u6837\u5b9e\u4f8b\u5bf9\u8c61\u5c31\u80fd\u591f\u8bbf\u95ee\u5230 proto \u53ca\u5176\u539f\u578b\u94fe\u4e0a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u4e86\n    return new F();\n}\n")),(0,l.kt)("h3",{id:"new"},"new"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new"},"MDN new")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"new")," \u88ab\u8c03\u7528\u540e\u505a\u4e86\u51e0\u4ef6\u4e8b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e00\u4e2a\u7a7a\u5bf9\u8c61"),(0,l.kt)("li",{parentName:"ul"},"\u8ba9\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u5230\u6784\u9020\u51fd\u6570\u7684\u5c5e\u6027"),(0,l.kt)("li",{parentName:"ul"},"\u8ba9\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u53ef\u4ee5\u8bbf\u95ee\u6784\u9020\u51fd\u6570\u539f\u578b\u6240\u5728\u539f\u578b\u94fe\u4e0a\u7684\u5c5e\u6027"),(0,l.kt)("li",{parentName:"ul"},"\u8003\u8651\u6784\u9020\u51fd\u6570\u6709\u8fd4\u56de\u503c\u4e14\u8fd4\u56de\u503c\u4e3a\u5bf9\u8c61\u7684\u60c5\u51b5\uff0c\u8fd9\u65f6\u5019\u8fd4\u56de\u7684\u5bf9\u8c61\u7684\u4f18\u5148\u7ea7\u66f4\u9ad8")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function myNew(ctor, ...args) {\n    if (typeof ctor !== 'function') throw `${ctor} is not a constructor`;\n\n    const obj = Object.create(ctor.prototype);  // \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u4e14\u7ee7\u627f\u5176\u539f\u578b\n    const res = ctor.apply(obj, args);\n    const isObject = res && typeof res === 'object';\n    const isFunction = typeof res === 'function';\n    return isObject || isFunction ? res : obj;\n}\n")),(0,l.kt)("h3",{id:"call--apply"},"call & apply"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call"},"MDN call")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"},"MDN apply")),(0,l.kt)("p",null,"\u2003","\u2003",(0,l.kt)("inlineCode",{parentName:"p"},"call")," \u65b9\u6cd5\u7684\u4f5c\u7528\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"apply")," \u65b9\u6cd5\u7c7b\u4f3c\uff0c\u533a\u522b\u4ec5\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"call")," \u65b9\u6cd5\u63a5\u53d7\u7684\u662f",(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u5217\u8868"),"\uff0c\u800c ",(0,l.kt)("inlineCode",{parentName:"p"},"apply")," \u65b9\u6cd5\u63a5\u53d7\u7684\u662f",(0,l.kt)("strong",{parentName:"p"},"\u4e00\u4e2a\u53c2\u6570\u6570\u7ec4"),"\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u5b83\u4eec\u7684\u4f5c\u7528\u90fd\u662f\u4f7f\u7528\u6307\u5b9a\u7684\u4e0a\u4e0b\u6587\u6765\u8c03\u7528\u51fd\u6570\uff0c\u82e5\u6709\u4f20\u5165\u989d\u5916\u7684\u53c2\u6570\uff0c\u90a3\u4e48\u8be5\u53c2\u6570\u4f1a\u4f20\u9012\u7ed9\u8c03\u7528\u51fd\u6570\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Function.prototype.myCall = function() {    // apply \u540c\u5199\u6cd5\n    if (typeof this !== 'function') throw `caller must be a function!`;\n\n    const context = arguments[0] || window;\n    const args = [...arguments].slice(1).flat();  // \u5bf9\u4e8e apply \u7684\u8bdd\uff0c\u4f20\u5165\u7684\u662f\u4e00\u4e2a\u53c2\u6570\u6570\u7ec4\uff0c\u56e0\u6b64\u5c06\u53c2\u6570\u683c\u5f0f\u7edf\u4e00\n    context.fn = this;\n    const res = context.fn(...args);\n    delete context.fn;\n\n    return res;\n}; \n")),(0,l.kt)("h3",{id:"functionprototypebind"},"Function.prototype.bind"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"},"MDN bind")),(0,l.kt)("p",null,"\u2003","\u2003",(0,l.kt)("inlineCode",{parentName:"p"},"bind")," \u65b9\u6cd5\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u7136\u540e\u4f1a\u5c06\u4f20\u5165\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u7ed1\u5b9a\u5230\u8c03\u7528\u51fd\u6570\u4e0a\u3002\u82e5\u4f20\u9012\u4e86\u591a\u4e2a\u53c2\u6570\uff0c\u5176\u4f59\u53c2\u6570\u4f1a\u4f5c\u4e3a\u65b0\u51fd\u6570\u7684\u53c2\u6570\u3002\u6b64\u5916\uff0c\u82e5\u662f\u5bf9\u4f7f\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"bind")," \u7ed1\u5b9a\u7684\u51fd\u6570\u4f7f\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"new")," \u5173\u952e\u5b57\u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u90a3\u4e48\u6b64\u65f6\u4f1a\u5ffd\u7565\u539f\u5148\u4f20\u5165\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Function.prototype.myBind = function() {\n    if (typeof this !== 'function') throw new TypeError('caller must be a function');\n\n    const slice = Array.prototype.slice;\n\n    const fn = this;\n    const context = arguments[0];\n    const args = slice.call(arguments, 1);\n\n    const bindFunc = function() {\n        const newArgs = args.concat(slice.call(arguments));\n        // \u82e5\u662f\u666e\u901a\u60c5\u51b5\uff0cthis \u4f1a\u6307\u5411 window\uff0c\u800c\u82e5\u662f\u4f7f\u7528 new \uff0c\u90a3\u4e48 this \u4f1a\u6307\u5411\u5b9e\u4f8b\n        return fn.apply(this instanceof bindFunc ? this : context, newArgs);\n    };\n    // bindFunc \u7ee7\u627f\u539f\u578b\u94fe\u4e2d\u7684\u65b9\u6cd5\n    bindFunc.prototype = Object.create(fn.prototype);\n\n    return bindFunc;\n}\n")),(0,l.kt)("h4",{id:"\u4e00\u9053-bind-\u9898"},"\u4e00\u9053 bind \u9898"),(0,l.kt)("p",null,"\u2003","\u2003","\u57fa\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"bind")," \u65b9\u6cd5\u7684\u7279\u6027\uff0c\u6709\u4e00\u9053\u9898\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function foo() {\n    console.log(this.x);\n}\n\nfoo.bind({x: 1}).bind({x: 2})() // \u6253\u5370\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f\n")),(0,l.kt)(p.Z,{markdown:"\u2003\u2003\u8f93\u51fa 1\uff0c\u56e0\u4e3a\u5728\u7b2c\u4e00\u6b21\u8c03\u7528 bind \u65f6\uff0c\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u51fd\u6570 f1\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u8c03\u7528 foo \u5e76\u4f7f\u7528\u4f20\u5165\u7684\u5bf9\u8c61\u4f5c\u4e3a this\u3002\u5f53\u7b2c\u4e8c\u6b21\u8c03\u7528 bind \u65b9\u6cd5\u65f6\uff0c\u4e5f\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u51fd\u6570 f2\uff0cf2 \u4e2d\u8c03\u7528\u7684\u662f\u4e0a\u4e00\u6b21\u8c03\u7528 bind \u521b\u5efa\u7684\u65b0\u51fd\u6570 f1\uff0c\u4f46\u662f\u8fd9 f1 \u4e2d\u5e76\u6ca1\u6709\u4f7f\u7528\u5230\u672c\u6b21\u4f20\u5165\u7684 this \u503c\uff0c\u56e0\u6b64\u6700\u7ec8\u7ed3\u679c\u8fd8\u4f1a\u662f\u7b2c\u4e00\u6b21\u4f20\u5165\u7684\u5bf9\u8c61\u4e2d\u7684 x\uff0c\u4e5f\u5c31\u662f 1\u3002",header:"\u89e3\u7b54\ud83d\udc47",mdxType:"MarkdownInCollapse"}),(0,l.kt)("h3",{id:"arrayprototypemap"},"Array.prototype.map"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"map \u6982\u5ff5\uff1a")),(0,l.kt)("p",null,"\u2003","\u2003",(0,l.kt)("inlineCode",{parentName:"p"},"map(callback(val, idx, arr), thisArg)")," \u65b9\u6cd5\u5c06",(0,l.kt)("strong",{parentName:"p"},"\u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4"),"\uff0c\u8fd9\u4e2a\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u662f\u539f\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"callback")," \u540e\u7684\u7ed3\u679c\u3002\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"callback")," \u7684\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u662f\u539f\u6570\u7ec4\u4e2d\u7684",(0,l.kt)("strong",{parentName:"p"},"\u5143\u7d20"),"\u3001",(0,l.kt)("strong",{parentName:"p"},"\u5143\u7d20\u5bf9\u5e94\u7d22\u5f15\u503c"),"\u548c",(0,l.kt)("strong",{parentName:"p"},"\u539f\u6570\u7ec4"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"thisArg")," \u53ef\u9009\uff0c\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"map")," \u51fd\u6570\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"this")," \u6307\u5411\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u56e0\u6b64\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"map")," \u51fd\u6570\u540e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u539f\u6570\u7ec4\u4e0d\u4f1a\u53d1\u751f\u6539\u53d8"),"\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u6b64\u5916\uff0c\u8c03\u7528\u7684\u6570\u7ec4 ",(0,l.kt)("inlineCode",{parentName:"p"},"arr")," \u4e2d\u7684\u5143\u7d20\u4e0d\u4e00\u5b9a\u662f\u8fde\u7eed\u7684\uff08\u6709\u7684\u7d22\u5f15\u4f4d\u7f6e\u4f1a\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"empty"),"\uff09\uff0c\u8fd9\u70b9\u9700\u8981\u6ce8\u610f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Array.prototype.myMap = function(callbackFn, thisArg) {\n    // null \u6216 undefined\n    if (this == null) {\n        throw new TypeError(`can't not read proterty 'map' of ${this}` );\n    }\n\n    if (Object.prototype.toString.call(callbackFn) !== '[object Function]') {\n        throw new TypeError(`${callbackFn} is not a function!`);\n    }\n\n    let O = Object(this);   // \u89c4\u5b9a this \u9700\u8981\u5148\u8f6c\u6362\u4e3a\u5bf9\u8c61\n    let len = O.length >>> 0;   // \u4fdd\u8bc1 len \u4e3a\u6570\u5b57\u4e14\u4e3a\u6574\u6570\n    let T = thisArg || null;\n\n    let res = new Array(len);\n\n    for (let i = 0; i < len; ++i) {\n        if (i in O) {\n            let mappedValue = callbackFn.call(T, O[i], i, O);\n            res[i] = mappedValue;\n        }\n    }\n\n    return res;\n};\n")),(0,l.kt)("p",null,"\u5176\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},">>>")," \u8fd0\u7b97\u7b26\u4e3a \u96f6\u586b\u5145\u53f3\u79fb\u8fd0\u7b97\u7b26\uff0c\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"0101 >>> 1 : 0010"),"\uff0c\u4fdd\u8bc1 ",(0,l.kt)("inlineCode",{parentName:"p"},"len ")," \u4e3a\u6570\u5b57\u4e14\u4e3a\u6574\u6570\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f7f\u7528 ",(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object"},"Object"),"  \u662f\u4e3a\u4e86\u4fdd\u8bc1 ",(0,l.kt)("inlineCode",{parentName:"p"},"o")," \u4e00\u5b9a\u662f\u4e00\u4e2a\u5bf9\u8c61\uff1a"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5f53\u7ed9\u5b9a\u503c\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"null")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"li"},"undefined")," \u65f6\uff0c\u4f1a\u521b\u5efa\u5e76\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u82e5\u4f20\u8fdb\u53bb\u7684\u662f\u4e00\u4e2a\u57fa\u672c\u7c7b\u578b\u7684\u503c\uff0c\u5219\u4f1a\u6784\u9020\u5176\u5305\u88c5\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5982 ",(0,l.kt)("inlineCode",{parentName:"li"},"Object(3)")," \uff0c\u4f1a\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"li"},"Number {3}"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u82e5\u4f20\u7684\u662f\u5f15\u7528\u7c7b\u578b\u7684\u503c\uff0c\u4ecd\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u503c\uff0c\u56e0\u6b64\u5f15\u7528\u662f\u76f8\u540c\u7684\u3002")))),(0,l.kt)("h3",{id:"arrayprototypeflat"},"Array.prototype.flat"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat"},"MDN flat")," "),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"flat(deep)")," \u65b9\u6cd5\u4f1a\u6839\u636e\u6307\u5b9a\u7684\u9012\u5f52\u6df1\u5ea6\u904d\u5386\u6570\u7ec4\uff0c\u5e76\u5c06\u904d\u5386\u5230\u7684\u5143\u7d20\u5408\u5e76\u4e3a\u4e00\u4e2a",(0,l.kt)("strong",{parentName:"p"},"\u65b0\u6570\u7ec4"),"\u8fd4\u56de")),(0,l.kt)("p",null,"\u2003","\u2003","\u8bbe\u6709\u6570\u7ec4\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'const test = ["a", ["b", "c"], ["d", ["e", ["f"]], "g"]]\n')),(0,l.kt)("p",null,"\u2003","\u2003",(0,l.kt)("inlineCode",{parentName:"p"},"flag")," \u4e0d\u4f20\u53c2\u6570\u65f6\uff0c\u9ed8\u8ba4\u6241\u5e73\u5316\u4e00\u5c42"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'test.flat()\n// ["a", "b", "c", "d", ["e", ["f"]], "g"]\n')),(0,l.kt)("p",null,"\u2003","\u2003",(0,l.kt)("inlineCode",{parentName:"p"},"flat")," \u4f20\u5165\u53c2\u6570\u65f6\uff0c\u4f20\u5165\u7684\u53c2\u6570\u5373\u6241\u5e73\u5316\u7684\u6df1\u5ea6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'test.flat(2)\n// ["a", "b", "c", "d", "e", ["f"], "g"]\n')),(0,l.kt)("p",null,"\u2003","\u2003","\u5f53\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"Infinity")," \u4f5c\u4e3a\u53c2\u6570\u65f6\uff0c\u65e0\u8bba\u591a\u5c11\u5c42\u5d4c\u5957\uff0c\u90fd\u4f1a\u6241\u5e73\u5316\u4e3a\u4e00\u7ef4\u6570\u7ec4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'test.flat(Infinity)\n// ["a", "b", "c", "d", "e", "f", "g"]\n')),(0,l.kt)("p",null,"\u2003","\u2003","\u4f20\u5165\u5c0f\u4e8e\u7b49\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," \u7684\u53c2\u6570\uff0c\u4e0d\u8fdb\u884c\u6241\u5e73\u5316"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'test.flat(0)\ntest.flat(-1)\n// ["a", ["b", "c"], ["d", ["e", ["f"]], "g"]]\n')),(0,l.kt)("p",null,"\u2003","\u2003","\u82e5\u6570\u7ec4\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u4f1a\u8df3\u8fc7\u90a3\u4e9b\u7a7a\u4f4d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'["a", , "b", "c", ,].flat()\n// ["a", "b", "c"]\n')),(0,l.kt)("h4",{id:"1-\u4f7f\u7528-reduce-\u5b9e\u73b0-flat"},"1. \u4f7f\u7528 reduce \u5b9e\u73b0 flat"),(0,l.kt)("p",null,"\u2003","\u2003","\u9996\u5148\u5b9e\u73b0\u4e00\u4e2a\u4e00\u6b21\u6027\u6241\u5e73\u5316\u4efb\u610f\u6df1\u5ea6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"flat")," \u65b9\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function flattenDeep(arr) {\n    return Array.isArray(arr) ? \n        arr.reduce((acc, cur) => [...acc, flattenDeep(cur)], [])\n        : [arr];\n}\n")),(0,l.kt)("p",null,"\u2003","\u2003","\u5728\u6b64\u4e4b\u4e0a\u5b9e\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"flat"),"\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"if (!Array.prototype.flat) {\n    Array.prototype.flat = function(deep=1) {\n        return deep >= 0 ?\n            this.reduce((acc, cur) => {\n                if (Array.isArray(cur)) {\n                    return [...acc, cur.flat(deep-1)];\n                }\n\n                return [...acc, cur];\n            }, [])\n            : this;\n    }\n}\n")),(0,l.kt)("h4",{id:"2-\u4f7f\u7528\u6808\u5b9e\u73b0"},"2. \u4f7f\u7528\u6808\u5b9e\u73b0"),(0,l.kt)("p",null,"\u2003","\u2003","\u540c\u6837\u7684\uff0c\u5148\u5b9e\u73b0\u4e00\u4e2a\u4e00\u6b21\u6027\u6241\u5e73\u5316\u6240\u6709\u6df1\u5ea6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"flat"),"\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function flattenDeep(arr) {\n    const ret = [];\n    const st = [...arr];\n\n    while (st.length) {\n        const val = st.pop();\n\n        if (Array.isArray(val)) {\n            st.push(...val);\n        } else {\n            ret.unshift(val);\n        }\n    }\n\n    return ret;\n}\n")),(0,l.kt)("p",null,"\u2003","\u2003","\u518d\u5728\u6b64\u57fa\u7840\u4e0a\u5b9e\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"flat"),"\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5176\u5b9e\u5b9e\u73b0\u4e0a\u548c\u6808\u5173\u7cfb\u4e0d\u5927...\nArray.prototype.myFlat = function(deep=1) {\n    if (deep < 1) return this;\n\n    const ret = [];\n    const st = [...this];\n\n    while (st.length) {\n        const val = st.pop();\n\n        if (Array.isArray(val)) {\n            ret.unshift(...val.myFlat(deep-1));\n        } else {\n            ret.unshift(val);\n        }\n    }\n\n    return ret;\n}\n")),(0,l.kt)("h3",{id:"arrayprototypeeuqals"},"Array.prototype.euqals"),(0,l.kt)("p",null,"\u2003","\u2003","\u539f\u751f JS \u4e2d\u6ca1\u6709\u6570\u7ec4\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"equals")," \u65b9\u6cd5\u5b9e\u73b0\uff0c\u4f46\u6570\u7ec4\u662f\u5f15\u7528\u7c7b\u578b\u4e0d\u80fd\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"===")," \u6765\u5224\u65ad\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u5bf9\u4e24\u4e2a\u6570\u7ec4\u8fdb\u884c\u5bf9\u6bd4\u5224\u65ad\u662f\u5426\u76f8\u540c\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u8003\u8651\u4e86\u6570\u7ec4\u5185\u5143\u7d20\u7684\u987a\u5e8f\uff0c\u4e00\u79cd\u5219\u662f\u4e0d\u8003\u8651\u987a\u5e8f\u3002\u5bf9\u4e8e\u4e0d\u8003\u8651\u987a\u5e8f\u7684\uff0c\u53ef\u4ee5\u5148\u5bf9\u6570\u7ec4\u8fdb\u884c\u4e00\u4e2a\u6392\u5e8f\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002"),(0,l.kt)("p",null,"\u2003","\u2003","\u6b64\u5916\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e0b\u9762\u4e3b\u8981\u8ba8\u8bba\u6570\u7ec4\u5143\u7d20\u4e3a\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4e0e\u6570\u7ec4\u5bf9\u8c61\u7684\u60c5\u51b5\uff0c\u5176\u4ed6\u5bf9\u8c61\u6682\u672a\u8003\u8651\u5728\u5185"),"\u3002"),(0,l.kt)("h4",{id:"\u65b9\u6cd51"},"\u65b9\u6cd51"),(0,l.kt)("p",null,"\u2003","\u2003","\u6700\u7b80\u5355\u7684\u529e\u6cd5\u5c31\u662f\u4e00\u6b21\u904d\u5386\u5224\u65ad\u6570\u7ec4\u5185\u5143\u7d20\u662f\u5426\u76f8\u540c\u4e86\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5c06\u6570\u7ec4\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u518d\u8fdb\u884c\u6bd4\u8f83\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function isEqual(arr1, arr2) {\n    return JSON.stringify(arr1.sort()) == JSON.stringify(arr2.sort());\n}\n")),(0,l.kt)("h4",{id:"\u65b9\u6cd52"},"\u65b9\u6cd52"),(0,l.kt)("p",null,"\u2003","\u2003","\u624b\u5199\u4e00\u4e2a\u6570\u7ec4\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"equals")," \u65b9\u6cd5\u6765\u5b9e\u73b0\u4e24\u4e2a\u6570\u7ec4\u5143\u7d20\u7684\u6bd4\u8f83\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"if (!Array.prototype.equals) {\n    Array.prototype.equals = function(array) {\n        // \u82e5 array \u662f\u865a\u503c\uff0c\u76f4\u63a5\u8fd4\u56de\n        if (!array) {\n            return false;\n        }\n\n        // \u5148\u5224\u65ad\u6570\u7ec4\u957f\u5ea6\u662f\u5426\u76f8\u7b49\uff0c\u82e5\u4e0d\u76f8\u7b49\u8fd4\u56de false\n        if (this.length != array.length) {\n            return false;\n        }\n\n        for (let i = 0, l = this.length; i < l; ++i) {\n            // \u5224\u65ad\u662f\u5426\u6709\u5faa\u73af\u5d4c\u5957\n            if (this[i] instanceof Array && array[i] instanceof Array) {\n                if (!this[i].equals(array[i])) {\n                    return false;\n                }\n            } else if (this[i] != array[i]) {\n                return false;\n            }\n            // \u8fd9\u8fb9\u6ca1\u6709\u8003\u8651\u6570\u7ec4\u5143\u7d20\u662f object \u7684\u60c5\u51b5\n        }\n\n        return true;\n    };\n}\n")),(0,l.kt)("h3",{id:"objectprototypeequals"},"Object.prototype.equals"),(0,l.kt)("p",null,"\u2003","\u2003","\u5bf9\u8c61\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"equals")," \u65b9\u6cd5\u4e2d\u9700\u8981\u6709\u6570\u7ec4\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"equals")," \u65b9\u6cd5\u652f\u6301\uff0c\u4ee5\u4fbf\u80fd\u8fdb\u884c\u4e00\u4e2a\u66f4\u5168\u9762\u7684\u6bd4\u8f83\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Object.prototype.equals = function(obj) {\n    // \u7b2c\u4e00\u6b21\u5faa\u73af\uff0c\u68c0\u67e5 this \u4e2d\u7684\u5c5e\u6027\u540d\u548c\u5c5e\u6027\u503c\u7c7b\u522b\u662f\u5426 \u4e0e obj \u4e2d\u7684\u76f8\u540c\n    for (let propName in this) {\n        if (this.hasOwnProperty(propName) != obj.hasOwnProperty(propName)) {\n            return false;\n        } else if (typeof this[propName] != typeof obj[propName]) {\n            return false;\n        }\n    }\n\n    // \u7b2c\u4e8c\u6b21\u5faa\u73af\uff0c\u68c0\u67e5 obj \u4e2d\u7684\u5c5e\u6027\u540d\u548c\u5c5e\u6027\u503c\u7c7b\u522b\u662f\u5426\u548c this \u4e2d\u7684\u76f8\u540c\n    // \u5e76\u9012\u5f52\u8fdb\u884c\u68c0\u67e5\n    for (let propName in obj) {\n        // \u56e0\u4e3a\u53ef\u80fd\u6709\u7684\u5c5e\u6027\u53ea\u5b58\u5728\u4e0e obj \u4e2d\n        if (this.hasOwnProperty(propName) != obj.hasOwnProperty(propName)) {\n            return false;\n        } else if (typeof this[propName] != typeof obj[propName]) {\n            return false;\n        }\n\n        // \u82e5\u8be5\u5c5e\u6027\u662f\u7ee7\u627f\u81ea\u539f\u578b\u94fe\u7684\uff0c\u90a3\u4e48\u80af\u5b9a\u76f8\u7b49\uff0c\u4e0d\u9700\u8981\u68c0\u67e5\n        if (!this.hasOwnProperty(propName)) {\n            continue;\n        }\n\n        // \u8fdb\u884c\u9012\u5f52\u68c0\u67e5\n\n        // \u9996\u5148\u68c0\u67e5\u662f\u5426\u662f\u4e00\u4e2a\u6570\u7ec4\u7c7b\u578b\uff0c\u9700\u8981\u5b9e\u73b0\u6570\u7ec4\u7684\u68c0\u67e5\u65b9\u6cd5 Array.prototype.equals\n        if (this[propName] instanceof Array && obj[propName] instanceof Array) {\n            if (!this[propName].equals(obj[propName])) {\n                return false;\n            }\n        } else if (this[propName] instanceof Object && obj[propName] instanceof Object) {\n            if (!this[propName].equals(obj[propName])) {\n                return false;\n            }\n        } else if (this[propName] != obj[propName]) {\n            return false;\n        }\n    }\n\n    return true;\n};\n")),(0,l.kt)("h3",{id:"arrayprototypefilter"},"Array.prototype.filter"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"},"MDN filter")),(0,l.kt)("p",null,"\u2003","\u2003","\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684 filter \u5b9e\u73b0\uff0c\u4e3b\u8981\u5c31\u662f\u6839\u636e\u4f20\u5165\u7684\u56de\u8c03\u51fd\u6570\u7684\u8c03\u7528\u7ed3\u679c\uff0c\u5224\u65ad\u5f53\u524d\u503c\u662f\u5426\u8981\u52a0\u5165\u7ed3\u679c\u6570\u7ec4\u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Array.prototype.myFilter = function(fn, thisArg) {\n    if (typeof fn !== 'function') {\n        throw new TypeError(`${fn} is not a function!`);\n    }\n\n    const self = Object(this);\n    const len = self.length;\n\n    const res = [];\n    const T = thisArg || null;\n\n    for (let i = 0; i < len; ++i) {\n        if (i in self) {\n            const flag = fn.call(T, self[i], i, self);\n\n            if (flag) {\n                res.push(self[i]);\n            }\n        }\n    }\n\n    return res;\n};\n")),(0,l.kt)("h3",{id:"arrayprototypereduce"},"Array.prototype.reduce"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce"},"MDN reduce")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#polyfill"},"MDN reduce Polyfill")),(0,l.kt)("p",null,"\u2003","\u2003",(0,l.kt)("inlineCode",{parentName:"p"},"reduce")," \u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"p"},"callback(acc, cur, idx, arr)")," \u4e0e\u4e00\u4e2a\u53ef\u9009\u7684\u521d\u59cb\u503c\u3002\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"acc")," \u662f\u7d2f\u52a0\u5668\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"cur")," \u662f\u5f53\u524d\u503c\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"idx")," \u662f\u5f53\u524d\u503c\u5bf9\u5e94\u7684\u7d22\u5f15\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"arr")," \u662f\u539f\u6570\u7ec4\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"Array.prototype.myReduce = function(fn, initialValue) {\n    if (typeof fn !== 'function') throw new TypeError(`${fn} is not a function!`);\n\n    const self = Object(this);\n    const len = self.length;\n\n    const i = 0;\n\n    const res = initialValue;\n\n    // \u82e5\u672a\u8f93\u5165\u521d\u59cb\u503c\uff0c\u5219\u627e\u5230\u7b2c\u4e00\u4e2a\u4e0d\u4e3a\u865a\u503c\u7684\u5143\u7d20\n    if (res == null && len > 0 && i < len) {\n        res = self[i++];\n    }\n\n    for (; i < len; ++i) {\n        // in \u4f1a\u5305\u62ec\u539f\u578b\u94fe\u4e0a\u7684\u5c5e\u6027\uff0c\u8fd9\u662f\u6ca1\u95ee\u9898\u7684\uff0c\u56e0\u4e3a\u539f\u751f reduce \u4e5f\u4f1a\u5305\u62ec\n        if (i in self) {\n            // \u4e3a\u4ec0\u4e48\u4f7f\u7528 call\uff1a\u90fd\u884c\uff0c\u4e2a\u4eba\u4e60\u60ef\n            res = fn.call(null, res, self[i], i, self);\n        }\n    }\n\n    return res;\n};\n")),(0,l.kt)(i.Z,{mdxType:"Comment"}))}k.isMDXComponent=!0}}]);