"use strict";(self.webpackChunkyle_blog=self.webpackChunkyle_blog||[]).push([[9319],{58215:function(e,n,t){var a=t(67294);n.Z=function(e){var n=e.children,t=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:r},n)}},55064:function(e,n,t){t.d(n,{Z:function(){return u}});var a=t(67294),r=t(79443);var i=function(){var e=(0,a.useContext)(r.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},l=t(86010),o="tabItem_1uMI",p="tabItemActive_2DSg";var u=function(e){var n,t=e.lazy,r=e.block,u=e.defaultValue,c=e.values,m=e.groupId,s=e.className,d=a.Children.toArray(e.children),k=null!=c?c:d.map((function(e){return{value:e.props.value,label:e.props.label}})),f=null!=u?u:null==(n=d.find((function(e){return e.props.default})))?void 0:n.props.value,N=i(),b=N.tabGroupChoices,g=N.setTabGroupChoices,h=(0,a.useState)(f),v=h[0],j=h[1],w=[];if(null!=m){var C=b[m];null!=C&&C!==v&&k.some((function(e){return e.value===C}))&&j(C)}var y=function(e){var n=e.currentTarget,t=w.indexOf(n),a=k[t].value;j(a),null!=m&&(g(m,a),setTimeout((function(){var e,t,a,r,i,l,o,u;(e=n.getBoundingClientRect(),t=e.top,a=e.left,r=e.bottom,i=e.right,l=window,o=l.innerHeight,u=l.innerWidth,t>=0&&i<=u&&r<=o&&a>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(p),setTimeout((function(){return n.classList.remove(p)}),2e3))}),150))},E=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=w.indexOf(e.target)+1;t=w[a]||w[0];break;case"ArrowLeft":var r=w.indexOf(e.target)-1;t=w[r]||w[w.length-1]}null==(n=t)||n.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.default)("tabs",{"tabs--block":r},s)},k.map((function(e){var n=e.value,t=e.label;return a.createElement("li",{role:"tab",tabIndex:v===n?0:-1,"aria-selected":v===n,className:(0,l.default)("tabs__item",o,{"tabs__item--active":v===n}),key:n,ref:function(e){return w.push(e)},onKeyDown:E,onFocus:y,onClick:y},null!=t?t:n)}))),t?(0,a.cloneElement)(d.filter((function(e){return e.props.value===v}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},d.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==v})}))))}},70430:function(e,n,t){var a=t(67294);n.Z=function(e){var n=e.children,t=e.color;return a.createElement("span",{style:{backgroundColor:t||"#0099CC",borderRadius:"4px",color:"white",padding:"0.2rem"}},n)}},27537:function(e,n,t){t.d(n,{Z:function(){return N}});var a=t(87462),r=t(63366),i=(t(97171),t(68469)),l=t(67294),o=t(38456),p=t.n(o),u=t(10043),c=t.n(u),m=t(92657),s=t(29661),d=["node","inline","className","children"],k=i.Z.Panel,f={code:function(e){e.node;var n=e.inline,t=e.className,i=e.children,o=(0,r.Z)(e,d),p=/language-(\w+)/.exec(t||"");return!n&&p?l.createElement(m.Z,(0,a.Z)({style:s.Z,language:p[1],PreTag:"div",children:String(i).replace(/\n$/,"")},o)):l.createElement("code",(0,a.Z)({className:t},o))}};function N(e){var n=e.markdown,t=e.header,a=e.OtherComponents;return l.createElement(i.Z,{bordered:!1,style:{paddingBottom:"1.5rem"}},l.createElement(k,{header:t},l.createElement(p(),{components:f,children:""+n,remarkPlugins:[c()]}),a?l.createElement(a,null):null))}},54208:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return u},contentTitle:function(){return c},metadata:function(){return m},toc:function(){return s},default:function(){return k}});var a=t(87462),r=t(63366),i=(t(67294),t(3905)),l=(t(70430),t(41651)),o=(t(55064),t(58215),t(54734)),p=(t(27537),["components"]),u={slug:"front-end-code",title:"\u524d\u7aef\u4ee3\u7801\u9898"},c=void 0,m={unversionedId:"interview/\u516b\u80a1\u6587/2021-10-03-front-end-code",id:"interview/\u516b\u80a1\u6587/2021-10-03-front-end-code",isDocsHomePage:!1,title:"\u524d\u7aef\u4ee3\u7801\u9898",description:"1. \u8282\u6d41\u548c\u9632\u6296",source:"@site/docs/interview/\u516b\u80a1\u6587/2021-10-03-front-end-code.md",sourceDirName:"interview/\u516b\u80a1\u6587",slug:"/interview/\u516b\u80a1\u6587/front-end-code",permalink:"/docs/interview/\u516b\u80a1\u6587/front-end-code",tags:[],version:"current",frontMatter:{slug:"front-end-code",title:"\u524d\u7aef\u4ee3\u7801\u9898"},sidebar:"interview",previous:{title:"\u79cb\u62db\u9762\u7ecf2",permalink:"/docs/interview/\u9762\u7ecf/autumn-recruitment2"}},s=[{value:"1. \u8282\u6d41\u548c\u9632\u6296",id:"1-\u8282\u6d41\u548c\u9632\u6296",children:[{value:"\u9632\u6296",id:"\u9632\u6296",children:[]},{value:"\u8282\u6d41",id:"\u8282\u6d41",children:[]}]},{value:"2. \u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d",id:"2-\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d",children:[{value:"\u6d45\u62f7\u8d1d",id:"\u6d45\u62f7\u8d1d",children:[]},{value:"\u6df1\u62f7\u8d1d",id:"\u6df1\u62f7\u8d1d",children:[]}]}],d={toc:s};function k(e){var n=e.components,t=(0,r.Z)(e,p);return(0,i.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)(l.j,{time:"2021-10-03",lastUpdate:"",mdxType:"InterviewComponent"}),(0,i.kt)("h2",{id:"1-\u8282\u6d41\u548c\u9632\u6296"},"1. \u8282\u6d41\u548c\u9632\u6296"),(0,i.kt)("p",null,"\u2003","\u2003","\u5bf9\u4e8e\u4e00\u4e9b\u9891\u7e41\u7684\u64cd\u4f5c\uff0c\u5982\u5bf9\u7a97\u53e3\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"resize"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"scroll"),"\u3001\u8f93\u5165\u6846\u5185\u5bb9\u6539\u52a8\u54cd\u5e94\u65f6\uff0c\u5982\u679c\u76f8\u5e94\u5904\u7406\u51fd\u6570\u6ca1\u6709\u9891\u7387\u9650\u5236\u7684\u8bdd\uff0c\u4f1a\u52a0\u91cd\u6d4f\u89c8\u5668\u7684\u8d1f\u62c5\uff0c\u5bfc\u81f4\u7528\u6237\u4f53\u9a8c\u5dee\uff0c\u800c\u9632\u6296(debounce) \u548c\u8282\u6d41(throttle) \u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u5904\u7406\u51fd\u6570\u7684\u8c03\u7528\u9891\u7387\uff0c\u540c\u65f6\u4e0d\u5f71\u54cd\u5b9e\u9645\u6548\u679c\u3002"),(0,i.kt)("p",null,"\u2003","\u2003","\u8282\u6d41\u548c\u9632\u6296\u8fd9\u8fb9\u53ea\u63d0\u4f9b\u51e0\u4e2a\u57fa\u672c\u7248\u672c\uff0c\u6709\u66f4\u591a\u529f\u80fd\u7684\u8282\u6d41\u9632\u6296\u51fd\u6570\u5b9e\u73b0\u53ef\u79fb\u6b65\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://github.com/mqyqingfeng/Blog/issues/22"},"\u8ddf\u7740underscore\u5b66\u9632\u6296\u3001\u8282\u6d41")),(0,i.kt)("h3",{id:"\u9632\u6296"},"\u9632\u6296"),(0,i.kt)("p",null,"\u2003","\u2003","\u5728\u4e00\u4e2a\u8fde\u7eed\uff08\u65f6\u95f4\u95f4\u9694\u5f88\u77ed\uff09\u7684\u64cd\u4f5c\u4e2d\uff0c\u5904\u7406\u51fd\u6570\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u3002"),(0,i.kt)("p",null,"\u2003","\u2003","\u4e5f\u5373\u89e6\u53d1\u9ad8\u9891\u4e8b\u4ef6\u540e\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u8ba1\u65f6\u5668\u8fdb\u884c\u8ba1\u65f6\uff0c\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u5185\u91cd\u65b0\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u4f1a\u4f7f\u8ba1\u65f6\u5668\u91cd\u65b0\u8ba1\u7b97\u65f6\u95f4\uff0c\u53ea\u6709\u5728\u8ba1\u65f6\u5668\u8ba1\u65f6\u5b8c\u6210\u540e\uff0c\u624d\u80fd\u518d\u6b21\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002"),(0,i.kt)("p",null,"\u2003","\u2003","\u56e0\u6b64\u5b9e\u73b0\u601d\u8def\u5c31\u662f\u4f7f\u7528\u4e00\u4e2a\u5b9a\u65f6\u5668\u5ef6\u8fdf\u8c03\u7528\u5904\u7406\u51fd\u6570\uff0c\u6bcf\u6b21\u89e6\u53d1\u4e8b\u4ef6\u540e\u90fd\u53d6\u6d88\u4e4b\u524d\u5ef6\u8fdf\u8c03\u7528\u7684\u65b9\u6cd5\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function debounce(fn, wait) {\n    let timeout = null;\n    return function() {\n        // \u6bcf\u5f53\u7528\u6237\u8f93\u5165\u7684\u65f6\u5019\u628a\u524d\u4e00\u4e2a setTimeout clear \u6389\n        clearTimeout(timeout); \n        // \u7136\u540e\u53c8\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 setTimeout, \u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u8f93\u5165\u5b57\u7b26\u540e\u7684 interval \u95f4\u9694\u5185\u5982\u679c\u8fd8\u6709\u5b57\u7b26\u8f93\u5165\u7684\u8bdd\uff0c\u5c31\u4e0d\u4f1a\u6267\u884c fn \u51fd\u6570\n        timeout = setTimeout(() => {\n            // this \u786e\u4fdd\u5f53\u524d\u6307\u5411\u7684\u5bf9\u8c61\u662f\u8c03\u7528\u51fd\u6570\u7684\u5bf9\u8c61\uff0c\u5982 input \u5bf9\u8c61\n            fn.apply(this, arguments);\n        }, wait);\n    };\n}\n")),(0,i.kt)("p",null,"\u2003","\u2003","\u5728\u4e0a\u8ff0\u7684\u9632\u6296\u51fd\u6570\u4e2d\uff0c\u5982\u679c\u9ad8\u9891\u4e8b\u4ef6\u88ab\u6301\u7eed\u89e6\u53d1\uff0c\u90a3\u4e48\u53ea\u6709\u5728\u6700\u540e\u4e00\u6b21\u89e6\u53d1\u7ed3\u675f\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"wait")," \u6beb\u79d2\u540e\uff0c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u624d\u4f1a\u88ab\u6267\u884c\u3002\u56e0\u6b64\u8fd9\u79cd\u65b9\u5f0f\u5b9e\u73b0\u7684\u9632\u6296\u51fd\u6570\u88ab\u79f0\u4f5c\u5ef6\u8fdf\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\u3002"),(0,i.kt)("p",null,"\u2003","\u2003","\u76f8\u5bf9\u4e8e\u5ef6\u8fdf\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\uff0c\u8fd8\u6709\u4e00\u4e2a\u80fd\u591f\u7acb\u5373\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\u3002\u662f\u5426\u9700\u8981\u7acb\u5373\u6267\u884c\u53ef\u4f7f\u7528\u4e00\u4e2a\u53c2\u6570 ",(0,i.kt)("inlineCode",{parentName:"p"},"immediate")," \u6765\u8fdb\u884c\u63a7\u5236\uff0c\u5f53 ",(0,i.kt)("inlineCode",{parentName:"p"},"immediate")," \u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," \u65f6\uff0c\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"wait")," \u79d2\u540e\u624d\u80fd\u91cd\u65b0\u89e6\u53d1\uff08\u5373\u5f53 ",(0,i.kt)("inlineCode",{parentName:"p"},"timer")," \u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"null")," \u65f6\uff09\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function immedDebounce(fn, wait, immediate) {\n    let timer = null;\n    return function() {\n        if (timer) {\n            clearTimeout(timer);\n        }\n\n        if (immediate) {\n            // timer \u521d\u59cb\u4e3a null\uff0c\u56e0\u6b64\u80fd\u591f\u7acb\u5373\u6267\u884c\n            let callNow = !timer;\n\n            // \u5728 wait \u6beb\u79d2\u540e\u91cd\u7f6e timer \u4e3a null\n            timer = setTimeout(() => {\n                timer = null;\n            }, wait);\n\n            if (callNow) {\n                fn.apply(this, arguments);\n            }\n        } else {\n            timer = setTimeout(() => {\n                fn.apply(this, arguments);\n            }, wait);\n        }\n    }\n}\n")),(0,i.kt)("p",null,"\u2003","\u2003","\u9632\u6296\u7684\u5b9e\u73b0\u9664\u4e86\u4f7f\u7528\u8ba1\u65f6\u5668\u5916\uff0c\u8fd8\u80fd\u4f7f\u7528\u65f6\u95f4\u6233\u8bb0\u5f55\u7684\u65b9\u5f0f\u5b9e\u73b0\uff0c\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function debounce(fn, wait) {\n  let activeTime = 0;\n  return function() {\n    const now = +new Date();\n\n    // \u82e5\u5df2\u7b49\u5f85\u4e86 wait \u6beb\u79d2\uff0c\u5219\u80fd\u91cd\u65b0\u89e6\u53d1\n    if (now - activeTime >= wait) {\n      fn.apply(this, arguments);\n    }\n    \n    activeTime = now;\n  };\n}\n")),(0,i.kt)("h4",{id:"\u9632\u6296\u5b9e\u4f8b"},"\u9632\u6296\u5b9e\u4f8b"),(0,i.kt)("p",null,"\u2003","\u2003","\u6709\u4e00\u4e2a\u6309\u94ae\uff0c\u70b9\u51fb\u540e\u4f1a\u6253\u5370\u51fa 'hello'\uff0c\u6bcf\u70b9\u51fb\u4e00\u6b21\u9700\u8981\u7b49\u5f85 500 \u6beb\u79d2\u624d\u80fd\u91cd\u65b0\u6267\u884c\uff0c\u82e5\u6301\u7eed\u70b9\u51fb\u4e5f\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function sayHello() {\n    console.log('hello');\n}\n\nconst btn = document.createElement('button');\nbtn.innerText = '\u70b9\u51fb\u8f93\u51fahello';\n\ndocument.body.appendChild(btn);\n\n// \u4e0a\u6587\u4e2d\u7684\u80fd\u8bbe\u7f6e\u662f\u5426\u7acb\u5373\u6267\u884c\u7684\u9632\u6296\u51fd\u6570\nlet debounced_hello = immedDebounce(sayHello, 500, true);\nbtn.addEventListener('click', debounced_hello);\n")),(0,i.kt)("h3",{id:"\u8282\u6d41"},"\u8282\u6d41"),(0,i.kt)("p",null,"\u2003","\u2003","\u9ad8\u9891\u4e8b\u4ef6\u7684\u8fde\u7eed\u89e6\u53d1\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"n")," \u79d2\u5185\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u54cd\u5e94\u51fd\u6570\u3002\u4e5f\u5373\u662f\u6309\u7167\u65f6\u95f4\u95f4\u9694\u8fdb\u884c\u4e8b\u4ef6\u54cd\u5e94\uff0c\u5728\u4e00\u4e2a\u65f6\u95f4\u95f4\u9694\u5185\uff0c\u54cd\u5e94\u51fd\u6570\u53ea\u4f1a\u88ab\u6267\u884c\u4e00\u6b21\uff0c\u56e0\u6b64\u8282\u6d41\u4f1a\u7a00\u91ca\u51fd\u6570\u7684\u6267\u884c\u9891\u7387\u3002"),(0,i.kt)("p",null,"\u2003","\u2003","\u4e0e\u9632\u6296\u5b9e\u73b0\u76f8\u4f3c\uff0c\u8282\u6d41\u4e5f\u80fd\u4f7f\u7528\u5b9a\u65f6\u5668\u4e0e\u65f6\u95f4\u6233\u5b9e\u73b0\uff0c\u4e14\u6839\u636e\u8282\u6d41\u51fd\u6570\u5728\u6bcf\u4e00\u4e2a\u65f6\u95f4\u95f4\u9694\u4e2d\u7684\u7684\u6267\u884c\u65f6\u673a\uff0c\u5206\u4e3a\u5934\u6267\u884c\u4e0e\u5c3e\u6267\u884c\uff08\u65f6\u95f4\u95f4\u9694\u5f00\u5934\u7406\u89e3\u6267\u884c\u4e0e\u65f6\u95f4\u95f4\u9694\u7ed3\u5c3e\u6267\u884c\uff09\u3002"),(0,i.kt)("h4",{id:"\u4f7f\u7528\u5b9a\u65f6\u5668"},"\u4f7f\u7528\u5b9a\u65f6\u5668"),(0,i.kt)("p",null,"\u2003","\u2003","\u8282\u6d41\u51fd\u6570\u5728\u6bcf\u6b21\u89e6\u53d1\u65f6\u90fd\u5bf9\u5f53\u524d\u662f\u5426\u6709\u4e00\u4e2a\u5f85\u6267\u884c\u7684\u51fd\u6570\u8fdb\u884c\u5224\u65ad\uff0c\u53ea\u6709\u5f53\u4e0a\u4e00\u4e2a\u51fd\u6570\u6267\u884c\u5b8c\u540e\uff0c\u624d\u5f00\u59cb\u4e0b\u4e00\u8f6e\u7684\u5b9a\u65f6\u4efb\u52a1\u3002"),(0,i.kt)("p",null,"\u2003","\u2003","\u4ee5\u4e0b\u662f\u5c3e\u6267\u884c\u7684\u8282\u6d41\u51fd\u6570\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function throttle(fn, wait) {\n  let timer = null;\n\n  return function() {\n    if (!timer) {\n      timer = setTimeout(() => {\n        fn.apply(null, arguments);\n        timer = null;\n      }, wait);\n    }\n  };\n}\n")),(0,i.kt)("p",null,"\u2003","\u2003","\u4ee5\u4e0b\u662f\u4f7f\u7528\u5b9a\u65f6\u5668\u7684\u5934\u6267\u884c\u7684\u8282\u6d41\u51fd\u6570\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function throttle(fn, wait) {\n    let timer = null;\n\n    return function() {\n        if (!timer) {\n            // \u5c06\u6267\u884c\u51fd\u6570\u653e\u5916\u9762 \u5c31\u6709\u7acb\u5373\u6267\u884c\u7684\u6548\u679c\u4e86\n            fn.apply(this, arguments);\n            timer = setTimeout(() => {\n                timer = null;\n            }, wait);\n        }\n    };\n}\n")),(0,i.kt)("h4",{id:"\u4f7f\u7528\u65f6\u95f4\u6233"},"\u4f7f\u7528\u65f6\u95f4\u6233"),(0,i.kt)("p",null,"\u2003","\u2003","\u6839\u636e\u65f6\u95f4\u6233\u6765\u5224\u65ad\u4e24\u6b21\u54cd\u5e94\u7684\u95f4\u9694\u662f\u5426\u5927\u4e8e\u8bbe\u7f6e\u7684\u95f4\u9694\uff0c\u5927\u4e8e\u624d\u80fd\u6267\u884c\u4e0b\u4e00\u6b21\u54cd\u5e94\u51fd\u6570\u3002\u8fd9\u79cd\u65b9\u6cd5**\u54cd\u5e94\u51fd\u6570 ",(0,i.kt)("inlineCode",{parentName:"p"},"fn")," \u4f1a\u7acb\u5373\u6267\u884c\uff08\u5934\u6267\u884c\uff09\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function throttle(fn, time) {\n    let activeTime = 0;\n    reutrn () => {\n        const current = Date.now(); // +new Date()\n        if (current - activeTime > time) {\n            fn.apply(this, arguments);\n            activeTime = current;\n        }\n    };\n}\n")),(0,i.kt)("h4",{id:"\u8282\u6d41\u5b9e\u4f8b"},"\u8282\u6d41\u5b9e\u4f8b"),(0,i.kt)("p",null,"\u2003","\u2003","\u793a\u4f8b\uff1a\u5f53\u7a97\u53e3\u8fdb\u884c\u7f29\u653e\u65f6\uff0c\u4e00\u79d2\u5185\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u6253\u5370\u7a97\u53e3\u5927\u5c0f\u7684\u8282\u6d41\u51fd\u6570(\u8282\u6d41\u51fd\u6570\u7528\u4e0a\u6587\u4efb\u610f\u4e00\u4e2a\u90fd\u884c)\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function print(e) {\n    console.log(e.target.innerWidth, e.target.innerHeight);\n}\n\nwindow.addEventListener('resize', throttle(print, 1500));\n")),(0,i.kt)("h2",{id:"2-\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d"},"2. \u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d"),(0,i.kt)("p",null,"\u2003","\u2003","\u6d45\u62f7\u8d1d\u548c\u6df1\u62f7\u8d1d\u90fd\u53ea\u9488\u5bf9\u4e8e\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u4eec\u7684\u533a\u522b\u7528\u4e00\u5f20\u56fe\u6765\u8bf4\u5c31\u662f\uff1a"),(0,i.kt)("img",{src:"https://gitee.com/ylea/imagehost/raw/master/img/13263206-c651dc07788bf561.png",style:{zoom:"33%"}}),(0,i.kt)("p",null,"\u2003","\u2003","\u56fe\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u76f8\u5f53\u4e8e\u5bf9\u8c61\u7684\u5d4c\u5957\u5c42\u6b21\uff0c\u6d45\u62f7\u8d1d\u53ea\u4f1a\u590d\u5236\u5bf9\u8c61\u7684\u7b2c\u4e00\u5c42\u5143\u7d20\uff0c\u82e5\u5176\u6709\u5d4c\u5957\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u8fd9\u4e9b\u5d4c\u5957\u5bf9\u8c61\u7684\u5f15\u7528\u90fd\u662f\u76f8\u540c\u7684\uff1b\u800c\u6df1\u62f7\u8d1d\u7684\u590d\u5236\u4f1a\u5305\u62ec\u8fd9\u4e9b\u5d4c\u5957\u7684\u5bf9\u8c61\uff0c\u56e0\u6b64\u590d\u5236\u51fa\u7684\u5bf9\u8c61\u4f1a\u662f\u4e24\u4e2a\u5b8c\u5168\u4e0d\u540c\u7684\u5bf9\u8c61\u3002"),(0,i.kt)("h3",{id:"\u6d45\u62f7\u8d1d"},"\u6d45\u62f7\u8d1d"),(0,i.kt)("p",null,"\u2003","\u2003","\u6d45\u62f7\u8d1d\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u591a\u79cd\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Object.assign")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-js"}," const obj2 = Object.assign({}, obj);\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"\u5c55\u5f00\u8fd0\u7b97\u7b26"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const obj2 = {...obj};\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"\u5faa\u73af\u904d\u5386"),(0,i.kt)("p",{parentName:"li"},"\u2003","\u2003","\u5728\u4e0b\u9762\u7684\u904d\u5386\u4e2d\uff0c\u56e0\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"Object.entries")," \u4e0d\u4f1a\u904d\u5386\u539f\u578b\u94fe\u4e0a\u7684\u5c5e\u6027\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"obj.hasOwnProperty")," \u6765\u9a8c\u8bc1\u662f\u5426\u662f\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u82e5\u662f\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"for in")," \u904d\u5386\u5bf9\u8c61\u5219\u9700\u8981\u3002"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-js"}," function shallowCopy(obj) {\n   if (!obj || typeof obj !== 'object') {\n       return obj;\n   }\n   const obj2 = Array.isArray(obj) ? [] : {};\n   for (let [key, value] of Object.entries(obj)) {\n       obj2[key] = value;\n   }\n\n   return obj2;\n}\nconst obj2 = shallowCopy(obj);\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"\u6570\u7ec4\u6d45\u62f7\u8d1d"),(0,i.kt)("p",{parentName:"li"}," ","\u2003","\u2003","\u53ef\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"slice"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"concat")," \u4ee5\u53ca ",(0,i.kt)("inlineCode",{parentName:"p"},"Array.from")," \u65b9\u6cd5\u6765\u5b9e\u73b0\u6570\u7ec4\u5bf9\u8c61\u7684\u6d45\u62f7\u8d1d\u3002\u8fd9\u51e0\u4e2a\u65b9\u6cd5\u90fd\u4e0d\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\uff0c\u5b83\u4eec\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4\uff1a"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const arr2 = arr.slice();\n\nconst arr3 = arr.concat([]); // [].concat(arr);\n\nconst arr4 = Array.from(arr3);\n")))),(0,i.kt)("h3",{id:"\u6df1\u62f7\u8d1d"},"\u6df1\u62f7\u8d1d"),(0,i.kt)("p",null,"\u2003","\u2003","\u5728\u8fdb\u884c\u6df1\u62f7\u8d1d\u65f6\u9700\u8981\u8003\u8651",(0,i.kt)("strong",{parentName:"p"},"\u5faa\u73af\u5f15\u7528"),"\u4e0e\u7279\u6b8a\u5bf9\u8c61\u7684\u62f7\u8d1d\u95ee\u9898\u3002"),(0,i.kt)("p",null,"\u2003","\u2003","\u5982\u679c\u9047\u5230\u590d\u6742\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528\u5de5\u5177\u5e93\uff0c\u6bd4\u5982 lodash \u7684 ",(0,i.kt)("a",{parentName:"p",href:"https://www.lodashjs.com/docs/lodash.cloneDeep/"},"cloneDeep")," \u65b9\u6cd5\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"JSON.parse \u548c JSON.stringfy"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const obj2 = JSON.parse(JSON.stringify(obj));\n")),(0,i.kt)("p",{parentName:"li"},"\u2003","\u2003","\u7f3a\u9677\uff1a\u4f1a\u5ffd\u7565",(0,i.kt)("inlineCode",{parentName:"p"},"undefined"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"\u4efb\u610f\u7684\u51fd\u6570"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"symbol")," \u503c\uff0c\u4e14\u5b83\u80fd\u6b63\u786e\u5904\u7406\u7684\u5bf9\u8c61\u53ea\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"Number"),"\u3001 ",(0,i.kt)("inlineCode",{parentName:"p"},"String"),"\u3001 ",(0,i.kt)("inlineCode",{parentName:"p"},"Boolean"),"\u3001 ",(0,i.kt)("inlineCode",{parentName:"p"},"Array")," \u548c\u6241\u5e73\u5bf9\u8c61\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u6709\u53ef\u4ee5\u8f6c\u6210 JSON \u683c\u5f0f\u7684\u5bf9\u8c61\u624d\u53ef\u4ee5\u8fd9\u6837\u7528\uff0c\u50cf ",(0,i.kt)("inlineCode",{parentName:"p"},"function")," \u5c31\u6ca1\u529e\u6cd5\u8f6c\u6210 JSON\uff0c\u6b64\u5916\u7279\u6b8a\u7684\u5bf9\u8c61\u5982 ",(0,i.kt)("inlineCode",{parentName:"p"},"RegExp"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"Date"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"Set"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"Map")," \u7b49\u4e5f\u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u8fdb\u884c\u6df1\u62f7\u8d1d\u3002")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"\u7a0d\u4e3a\u5b8c\u5907\u7684\u6df1\u62f7\u8d1d"),(0,i.kt)("p",{parentName:"li"},"\u2003","\u2003","\u4f7f\u7528\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"WeakMap")," \u89e3\u51b3\u4e86\u5faa\u73af\u5f15\u7528\u95ee\u9898\uff0c\u4e14\u4e0d\u4f1a\u9020\u6210\u5185\u5b58\u6cc4\u6f0f\u3002"),(0,i.kt)("p",{parentName:"li"},"\u2003","\u2003","\u80fd\u5e94\u5bf9 ",(0,i.kt)("inlineCode",{parentName:"p"},"RegExp"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"Date"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"Function"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"Map"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"Set")," \u7b49\u7279\u6b8a\u5bf9\u8c61\u7684\u62f7\u8d1d\u3002"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-js"},"function deepClone(obj, map=new WeakMap()) {\n  // \u5904\u7406 null \u548c undefined\n  if (obj == null) return obj;\n\n  // \u82e5\u662f\u57fa\u672c\u7c7b\u578b\uff0c\u76f4\u63a5\u8fd4\u56de\n  if (typeof obj !== 'object' && typeof obj !== 'function') return obj;\n\n  // \u5904\u7406 Date \u548c RegExp\n  if (obj instanceof Date) return new Date(obj);\n  if (obj instanceof RegExp) return new RegExp(obj.source, obj.flags);\n\n  // \u4f7f\u7528 map \u89e3\u51b3\u5faa\u73af\u5f15\u7528\u95ee\u9898\n  if (map.has(obj)) return map.get(obj);\n\n  // \u5904\u7406\u51fd\u6570\u5bf9\u8c61 \u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u5728\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\u4f1a\u8fd4\u56de\u539f\u672c\u51fd\u6570\u7684\u6267\u884c\u7ed3\u679c\n  if (obj instanceof Function) {\n      return function() {\n          return obj.apply(this, [...arguments]);\n      }\n  }\n\n  // \u4e0b\u9762\u662f \u6570\u7ec4/\u666e\u901a\u5bf9\u8c61/Set/Map \u7684\u5904\u7406\n\n  // \u4ece\u5176\u539f\u578b\u94fe\u4e2d\u7ee7\u627f\u7684 constructor\n  const res = new obj.constructor();\n\n  // \u8bbe\u7f6e map \u4ee5\u5904\u7406\u5faa\u73af\u5f15\u7528\u95ee\u9898\n  map.set(obj, res);\n\n  if (obj instanceof Map) {\n      obj.forEach((item, index) => {\n          // index \u4e0d\u4e00\u5b9a\u662f\u57fa\u672c\u6570\u636e\u7c7b\u578b\n          res.set(deepClone(index, map), deepClone(item, map));\n      });\n  } else if (obj instanceof Set) {\n      obj.forEach((item) => {\n          obj.add(deepClone(item, map));\n      });\n  } else {\n      // \u4f7f\u7528 Object.entries \u4e0d\u9700\u8981\u518d\u4f7f\u7528 hasOwnProperty \u6765\u9a8c\u8bc1\u662f\u5426\u662f\u81ea\u8eab\u5c5e\u6027\n      for (let [key, value] of Object.entries(obj)) {\n          if (value && typeof value === 'object') {\n              res[key] = deepClone(value, map);\n          } else {\n              res[key] = value;\n          }\n      }\n  }\n\n  return res;\n}\n")))),(0,i.kt)(o.Z,{mdxType:"Comment"}))}k.isMDXComponent=!0}}]);