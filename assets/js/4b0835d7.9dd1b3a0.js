"use strict";(self.webpackChunkyle_blog=self.webpackChunkyle_blog||[]).push([[2414],{6123:function(e,t,n){n.d(t,{dK:function(){return o},_k:function(){return r},vc:function(){return s},rx:function(){return c},qo:function(){return l},Hk:function(){return m},Iz:function(){return u}});var i=n(47931),a=n.n(i);n(95570)(a()),n(93523).w(a()),n(96451)(a());var o=["en","zh"],r=!1,s=null,c="5228ca85",l=8,m=50,u={search_placeholder:"Search",see_all_results:"\u67e5\u770b\u6240\u6709\u76f8\u5173\u7ed3\u679c\ud83d\udc40",no_results:"\u62b1\u6b49\uff0c\u6682\u65f6\u6ca1\u6709\u8fd9\u65b9\u9762\u7684\u6587\u7ae0\ud83d\ude23.",search_results_for:'\u5173\u4e8e "{{ keyword }}" \u7684\u6240\u6709\u6587\u7ae0',search_the_documentation:"\u4ece\u5f53\u524d\u7ad9\u70b9\u4e2d\u67e5\u627e\u5173\u952e\u5b57",count_documents_found:"\u4e00\u5171\u627e\u5230\u4e86 {{ count }} \u7bc7\u76f8\u5173\u6587\u7ae0\ud83d\udc40",count_documents_found_plural:"\u4e00\u5171\u627e\u5230\u4e86 {{ count }} \u7bc7\u76f8\u5173\u6587\u7ae0\ud83d\udc40",no_documents_were_found:"\u5565\u4e5f\u6ca1\u627e\u5230\uff0c\u6362\u4e00\u4e2a\u5173\u952e\u8bcd\u5427\ud83d\ude35"}},13694:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});n(56764);var i=n(16122),a=n(45785),o=(n(96117),n(59423)),r=n(23478),s=n(15058),c=n(46311),l=n(15851),m=n(93174),u=n(4926),h=n(97334),d=(n(65145),n(19585),n(91971)),p=n(42841),z=function(e){function t(){var t;return t=e.call(this)||this,(0,c.Z)((0,r.Z)(t),"updateMapSize",(function(){t.mapSize+=3,t.forceUpdate()})),(0,c.Z)((0,r.Z)(t),"uploadRecord",(function(){})),(0,c.Z)((0,r.Z)(t),"showModal",(function(){t.setState({visible:!0})})),(0,c.Z)((0,r.Z)(t),"handleOk",(function(e){console.log("ok"),t.setState({visible:!1}),t.visible=!1})),(0,c.Z)((0,r.Z)(t),"handleCancel",(function(e){console.log("cancel"),t.setState({visible:!1})})),(0,c.Z)((0,r.Z)(t),"initialTree",(function(){for(var e=0;e<t.mapSize;e++){t.tree[e]=[];for(var n=0;n<t.mapSize;n++)t.tree[e][n]=-1}})),(0,c.Z)((0,r.Z)(t),"initialIsConnect",(function(){for(var e=0;e<t.mapSize*t.mapSize;e++){t.isConnect[e]=[];for(var n=0;n<t.mapSize*t.mapSize;n++)t.isConnect[e][n]=-1}})),(0,c.Z)((0,r.Z)(t),"drawChessBoard",(function(){for(var e=t.ctx_chess,n=0;n<=t.mapSize;n++)e.strokeStyle="gray",e.moveTo(15+t.borderSize*n,15),e.lineTo(15+t.borderSize*n,15+t.mapSize*t.borderSize),e.stroke(),e.moveTo(15,15+t.borderSize*n),e.lineTo(15+t.mapSize*t.borderSize,15+t.borderSize*n),e.stroke()})),(0,c.Z)((0,r.Z)(t),"getRowAndCol",(function(e){var n=[];return n.push(Math.floor(e/t.mapSize)),n.push(e%t.mapSize),n})),(0,c.Z)((0,r.Z)(t),"getNeighbourId",(function(e){var n=t.getRowAndCol(e),i=n[0],a=n[1],o=new Array;return i-1>=0&&o.push((i-1)*t.mapSize+a),i+1<t.mapSize&&o.push((i+1)*t.mapSize+a),a-1>=0&&o.push(e-1),a+1<t.mapSize&&o.push(e+1),o[Math.floor(Math.random()*o.length)]})),(0,c.Z)((0,r.Z)(t),"getRoot",(function(e){var n=t.getRowAndCol(e),i=n[0],a=n[1],o=t.tree[i][a];return o>=0?t.getRoot(o):e})),(0,c.Z)((0,r.Z)(t),"union",(function(e,n){var i=t.getRoot(e),a=t.getRoot(n);if(i!==a){var o=t.getRowAndCol(a),r=o[0],s=o[1];t.tree[r][s]=i}})),(0,c.Z)((0,r.Z)(t),"clearLine",(function(e,n){var i=t.ctx_chess,a=t.getRowAndCol(e),o=t.getRowAndCol(n),r=a[0],s=a[1],c=o[0],l=o[1],m=Math.ceil((r+c)/2),u=Math.ceil((s+l)/2);r===c?i.clearRect(14+t.borderSize*u,16+t.borderSize*m,2,t.borderSize-2):s===l&&i.clearRect(16+t.borderSize*u,14+t.borderSize*m,t.borderSize-2,2)})),(0,c.Z)((0,r.Z)(t),"drawMazeMap",(function(){for(;t.getRoot(0)!==t.getRoot(t.mapSize*t.mapSize-1);){var e=Math.floor(Math.random()*t.mapSize*t.mapSize),n=t.getNeighbourId(e);t.getRoot(e)!==t.getRoot(n)&&(t.isConnect[e][n]=1,t.isConnect[n][e]=1,t.clearLine(e,n),t.union(e,n))}})),(0,c.Z)((0,r.Z)(t),"openNotification",(function(){o.default.open({message:"\u8ff7\u5bab\u5c0f\u6e38\u620f",description:"\u4f7f\u7528 W\u3001S\u3001A\u3001D \u6765\u63a7\u5236\u5c0f\u65b9\u5757\u79fb\u52a8\u3002\u6e38\u620f\u5171\u6709\u4e09\u5173\uff0c\u6bcf\u5173\u7ed3\u675f\u540e\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230\u4e0b\u4e00\u5173\uff0c\u7ed3\u675f\u540e\u63d0\u4ea4\u6570\u636e\u7edf\u8ba1\u6392\u540d(TODO)\uff0c\u522b\u6682\u505c\u4f5c\u5f0a\u54e6~.",top:60})})),t.mapSize=14,t.borderSize=30,t.tree=[],t.isConnect=[],t.state={visible:!1,disable:!0,bounds:{left:0,top:0,right:0,bottom:0}},t}(0,s.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;(0,d.df)(),this.chess=document.getElementById("maze-canvas"),this.ctx_chess=this.chess.getContext("2d"),this.rect=document.getElementById("maze-canvas"),this.ctx_rect=this.rect.getContext("2d");var t=document.getElementById("maze-time");this.rectangle=new f({ctx_chess:this.ctx_chess,rect:this.rect,ctx_rect:this.ctx_rect,myTime:t,mapSize:this.mapSize,borderSize:this.borderSize,isConnect:this.isConnect,initialIsConnect:this.initialIsConnect,initialTree:this.initialTree,drawChessBoard:this.drawChessBoard,drawMazeMap:this.drawMazeMap,updateMapSize:this.updateMapSize}),this.initialIsConnect(),this.initialTree(),this.drawChessBoard(),this.drawMazeMap(),this.rectangle.load(),this.forceUpdate(),fetch("https://qcetup.fn.thelarkcloud.com/top5Ranks").then((function(e){if(e.ok)return e.json()})).then((function(t){for(var n,i={values:[]},o=(0,a.Z)(t);!(n=o()).done;){var r=n.value;i.values.push({id:r.id,label:r.userName,value:r.spendMs,colors:r.colors})}e.setState({data:[i]})})).catch((function(e){console.log(e)}))},n.componentWillUnmount=function(){this.rectangle.unmount()},n.render=function(){var e=this.state,t=(e.bounds,e.disabled,e.visible);return l.createElement(m.Z,null,l.createElement(u.Z,null,l.createElement("title",null,"\u8ff7\u5bab\u5c0f\u6e38\u620f | Yle")),l.createElement("div",{id:"maze-container"},l.createElement("div",{className:"layout-container"},l.createElement("div",{className:"maze-left"},l.createElement("canvas",{id:"maze-canvas",width:630,height:630})),l.createElement("div",{className:"maze-right"},l.createElement("div",{className:"maze-buttons"},l.createElement("div",{id:"maze-time"}),this.rectangle?l.createElement("div",null,l.createElement("button",{className:"maze-button",onClick:this.openNotification},"\u7b80\u4ecb"),l.createElement("button",{className:"maze-button",onClick:this.rectangle.start},"\u5f00\u59cb\u6e38\u620f"),l.createElement("button",{className:"maze-button",onClick:this.rectangle.stop},"\u6682\u505c"),l.createElement("button",{className:"maze-button",onClick:this.rectangle.renovates},"\u91cd\u65b0\u5f00\u59cb")):null),this.state.data?l.createElement("div",{className:"maze-rank"},l.createElement(h.S,{data:this.state.data,baseline:0,barHeight:10,mainWrapperStyles:{},chartWrapperStyles:{},labelStyles:{}})):null))),l.createElement("div",{className:"maze-comment"},l.createElement(p.Z,null)),l.createElement(i.Z,{title:"Modal",visible:t,onOk:this.handleOk,onCancel:this.handleCancel,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},l.createElement("p",null,"Bla bla ..."),l.createElement("p",null,"Bla bla ..."),l.createElement("p",null,"Bla bla ...")))},t}(l.Component),f=function(){function e(e){var t=this;(0,c.Z)(this,"timer",(function(){t.ms+=50,t.ms>=1e3&&(t.ms=0,t.s+=1),t.s>=60&&(t.s=0,t.m+=1),t.m>=60&&(t.m=0,t.h+=1);var e=t.formatMs(t.ms)+"";e=e.padStart(4,"0").slice(0,3);var n=t.formatTime(t.h)+"\u65f6"+t.formatTime(t.m)+"\u5206"+t.formatTime(t.s)+"\u79d2"+e+"\u6beb\u79d2";t.myTime.innerHTML=n})),(0,c.Z)(this,"start",(function(){t.timerID&&clearInterval(t.timerID),23===t.maze.mapSize&&t.renovates(),t.state=1,t.timerID=setInterval(t.timer,50)})),(0,c.Z)(this,"stop",(function(){t.state=0,clearInterval(t.timerID)})),(0,c.Z)(this,"renovates",(function(){t.unmount(),document.location.reload()})),(0,c.Z)(this,"unmount",(function(){window.removeEventListener("keydown",t.doKeyDown)})),(0,c.Z)(this,"doKeyDown",(function(e){e=e||window.event;var n=t.maze,i=t.ctx_rect,a="number"==typeof e.which?e.which:e.keyCode;1===t.state&&(38!==a&&87!==a||t.row>0&&1===n.isConnect[t.row*n.mapSize+t.col][(t.row-1)*n.mapSize+t.col]&&(t.clearRect(),t.y-=30,t.row-=1,i.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()),40!==a&&83!==a||t.row<n.mapSize&&1===n.isConnect[t.row*n.mapSize+t.col][(t.row+1)*n.mapSize+t.col]&&(t.clearRect(),t.y+=30,t.row+=1,i.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()),37!==a&&65!==a||t.col>0&&1===n.isConnect[t.row*n.mapSize+t.col][t.row*n.mapSize+t.col-1]&&(t.clearRect(),t.x-=30,t.col-=1,i.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()),39!==a&&68!==a||t.col<n.mapSize&&1===n.isConnect[t.row*n.mapSize+t.col][t.row*n.mapSize+t.col+1]&&(t.clearRect(),t.x+=30,t.col+=1,i.fillRect(t.x,t.y,t.len,t.len),e.preventDefault(),t.isOver(),t.showNextChessBoard()))})),(0,c.Z)(this,"load",(function(){var e=t.ctx_rect,n=t.rect;e.fillStyle="blue",e.fillRect(t.x,t.y,t.len,t.len),e.fillStyle="red",e.fillRect(t.outX,t.outY,t.len,t.len),e.fillStyle="blue",n.focus(),window.addEventListener("keydown",t.doKeyDown)})),(0,c.Z)(this,"clearRect",(function(){t.ctx_rect.clearRect(t.x-1,t.y-1,t.len+1,t.len+1)})),(0,c.Z)(this,"isOver",(function(){t.x>=t.outX&&t.y>=t.outY&&(t.isEnd=!0)})),(0,c.Z)(this,"showNextChessBoard",(function(){var e=t.maze,n=t.ctx_chess;!0===t.isEnd&&(e.mapSize+=3,e.updateMapSize(),23===e.mapSize?t.stop():(t.isEnd=!1,n.clearRect(0,0,630,630),e.initialTree(),e.initialIsConnect(),e.drawChessBoard(),e.drawMazeMap(),t.x=20,t.y=20,t.row=0,t.col=0,t.outX=e.borderSize*e.mapSize-10,t.outY=e.borderSize*e.mapSize-10,t.load()))})),this.myTime=e.myTime,this.rect=e.rect,this.ctx_rect=e.ctx_rect,this.ctx_chess=e.ctx_chess,this.maze={mapSize:e.mapSize,borderSize:e.borderSize,isConnect:e.isConnect,initialIsConnect:e.initialIsConnect,initialTree:e.initialTree,drawChessBoard:e.drawChessBoard,drawMazeMap:e.drawMazeMap,updateMapSize:e.updateMapSize},this.x=20,this.y=20,this.len=20,this.state=0,this.isEnd=!1,this.row=0,this.col=0,this.outX=this.maze.mapSize*this.maze.borderSize-10,this.outY=this.maze.mapSize*this.maze.borderSize-10,this.h=0,this.m=0,this.s=0,this.ms=0,this.timerID=0}var t=e.prototype;return t.formatTime=function(e){return e<10?"0"+e:e},t.formatMs=function(e){return e<10?"00"+e:"0"+e},e}()}}]);